<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>310å‘¨èµ›æ€»ç»“</title>
      <link href="2022/09/11/310%E5%91%A8%E8%B5%9B%E6%80%BB%E7%BB%93/"/>
      <url>2022/09/11/310%E5%91%A8%E8%B5%9B%E6%80%BB%E7%BB%93/</url>
      
        <content type="html"><![CDATA[<h3 id="1-å‡ºç°æœ€é¢‘ç¹çš„å¶æ•°å…ƒç´ "><a href="#1-å‡ºç°æœ€é¢‘ç¹çš„å¶æ•°å…ƒç´ " class="headerlink" title="1. å‡ºç°æœ€é¢‘ç¹çš„å¶æ•°å…ƒç´ "></a>1. <a href="https://leetcode.cn/problems/most-frequent-even-element/">å‡ºç°æœ€é¢‘ç¹çš„å¶æ•°å…ƒç´ </a></h3><p><code>è®¡æ•°</code>, æ ¹æ®é¢˜æ„ç›´æ¥æ¨¡æ‹Ÿ</p><a id="more"></a><pre class=" language-python3"><code class="language-python3">class Solution:    def mostFrequentEven(self, nums: List[int]) -> int:        num_dict = Counter(nums)        res = -1        times = 0        for num, time in num_dict.items():            if num % 2 != 0:                continue            if time > times:                times = time                res = num            elif time == times and res > num:                res = num        return res</code></pre><hr><h3 id="2-å­å­—ç¬¦ä¸²çš„æœ€ä¼˜åˆ’åˆ†"><a href="#2-å­å­—ç¬¦ä¸²çš„æœ€ä¼˜åˆ’åˆ†" class="headerlink" title="2. å­å­—ç¬¦ä¸²çš„æœ€ä¼˜åˆ’åˆ†"></a>2. <a href="https://leetcode.cn/problems/optimal-partition-of-string/">å­å­—ç¬¦ä¸²çš„æœ€ä¼˜åˆ’åˆ†</a></h3><p>ä½¿ç”¨<code>set</code>ä»å¤´å¼€å§‹éå†ï¼Œå½“å‰å€¼å­˜åœ¨äºsetä¸­æ—¶ï¼Œç»“æœ+1ï¼Œå¹¶æ¸…ç©ºset</p><pre class=" language-python3"><code class="language-python3">class Solution:    def partitionString(self, s: str) -> int:        s_set = set()        res = 0        for ch in s:            if ch in s_set:                res += 1                s_set.clear()            s_set.add(ch)        if len(s_set):            res += 1        return res</code></pre><hr><h3 id="3-å°†åŒºé—´åˆ†ä¸ºæœ€å°‘ç»„æ•°"><a href="#3-å°†åŒºé—´åˆ†ä¸ºæœ€å°‘ç»„æ•°" class="headerlink" title="3. å°†åŒºé—´åˆ†ä¸ºæœ€å°‘ç»„æ•°"></a>3. <a href="https://leetcode.cn/problems/divide-intervals-into-minimum-number-of-groups/">å°†åŒºé—´åˆ†ä¸ºæœ€å°‘ç»„æ•°</a></h3><p><code>æ’åº</code>+<code>å †</code>, å°†åŒºé—´æŒ‰å·¦ç«¯ç‚¹æ’åºï¼Œä½¿ç”¨å †ä¿å­˜åŒºé—´ç»„çš„æœ€å³ç«¯ç‚¹ã€‚éå†æ’åºå¥½çš„åŒºé—´ï¼Œå½“å †çš„æœ€å°å³ç«¯ç‚¹å°äºå½“å‰çš„å·¦ç«¯ç‚¹æ—¶ï¼Œæ›´æ–°å †çš„æœ€å³ç«¯ç‚¹ã€‚å¦åˆ™æ–°å¢å³ç«¯ç‚¹ï¼Œæœ€åè¿”å›å †çš„é•¿åº¦å³ä¸ºç»„çš„ä¸ªæ•°ã€‚</p><pre class=" language-python3"><code class="language-python3">class Solution:    def minGroups(self, intervals: List[List[int]]) -> int:        intervals.sort()        h = []        for l, r in (intervals):            if h and l > h[0]:                heapreplace(h, r)            else:                heappush(h, r)        return len(h)</code></pre><hr><h3 id="4-æœ€é•¿é€’å¢å­åºåˆ—-II"><a href="#4-æœ€é•¿é€’å¢å­åºåˆ—-II" class="headerlink" title="4. æœ€é•¿é€’å¢å­åºåˆ— II"></a>4. <a href="https://leetcode.cn/problems/longest-increasing-subsequence-ii/">æœ€é•¿é€’å¢å­åºåˆ— II</a></h3><p><code>çº¿æ®µæ ‘</code></p>]]></content>
      
      
      <categories>
          
          <category> å‘¨èµ› </category>
          
      </categories>
      
      
        <tags>
            
            <tag> LeetCode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Leetcode ç¬¬70åœºåŒå‘¨èµ›Pythoné¢˜è§£</title>
      <link href="2022/01/25/70%E5%9C%BA%E5%8F%8C%E5%91%A8%E8%B5%9B%E6%80%BB%E7%BB%93/"/>
      <url>2022/01/25/70%E5%9C%BA%E5%8F%8C%E5%91%A8%E8%B5%9B%E6%80%BB%E7%BB%93/</url>
      
        <content type="html"><![CDATA[<h2 id="1-æ‰“æŠ˜è´­ä¹°ç³–æœçš„æœ€å°å¼€é”€"><a href="#1-æ‰“æŠ˜è´­ä¹°ç³–æœçš„æœ€å°å¼€é”€" class="headerlink" title="1 æ‰“æŠ˜è´­ä¹°ç³–æœçš„æœ€å°å¼€é”€"></a>1 æ‰“æŠ˜è´­ä¹°ç³–æœçš„æœ€å°å¼€é”€</h2><p><code>æ’åº</code>ï¼Œå€’åºæ¯å–ä¸¤ä¸ªå°±è·³è¿‡ä¸€ä¸ª</p><a id="more"></a><pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">minimumCost</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> cost<span class="token punctuation">:</span> List<span class="token punctuation">[</span>int<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> int<span class="token punctuation">:</span>        cost<span class="token punctuation">.</span>sort<span class="token punctuation">(</span><span class="token punctuation">)</span>        res <span class="token operator">=</span> <span class="token number">0</span>        i <span class="token operator">=</span> len<span class="token punctuation">(</span>cost<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span>        <span class="token keyword">while</span> i <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">:</span>            res <span class="token operator">+=</span> cost<span class="token punctuation">[</span>i<span class="token punctuation">]</span>            i <span class="token operator">-=</span> <span class="token number">1</span>            <span class="token keyword">if</span> i <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">:</span>                res <span class="token operator">+=</span> cost<span class="token punctuation">[</span>i<span class="token punctuation">]</span>                i <span class="token operator">-=</span> <span class="token number">1</span>            i <span class="token operator">-=</span> <span class="token number">1</span>        <span class="token keyword">return</span> res</code></pre><hr><h2 id="2-ç»Ÿè®¡éšè—æ•°ç»„æ•°ç›®"><a href="#2-ç»Ÿè®¡éšè—æ•°ç»„æ•°ç›®" class="headerlink" title="2 ç»Ÿè®¡éšè—æ•°ç»„æ•°ç›®"></a>2 ç»Ÿè®¡éšè—æ•°ç»„æ•°ç›®</h2><p><code>å‰ç¼€å’Œ</code>ï¼Œæ‰¾åˆ°æœ€å¤§æœ€å°å€¼ï¼Œå¹¶åˆ¤æ–­åœ¨lowåˆ°upåŒºé—´ä¸Šï¼ŒåŠ ä¸Šæœ€å¤§æœ€å°å€¼æ˜¯å¦åœ¨è¿˜ç¬¦åˆåœ¨lowåˆ°upåŒºé—´</p><pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">numberOfArrays</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> differences<span class="token punctuation">:</span> List<span class="token punctuation">[</span>int<span class="token punctuation">]</span><span class="token punctuation">,</span> lower<span class="token punctuation">:</span> int<span class="token punctuation">,</span> upper<span class="token punctuation">:</span> int<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> int<span class="token punctuation">:</span>        <span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> len<span class="token punctuation">(</span>differences<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            differences<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> differences<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> differences<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span>        max_num <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">10000001</span>        min_num <span class="token operator">=</span> <span class="token number">10000001</span>        <span class="token keyword">for</span> difference <span class="token keyword">in</span> differences<span class="token punctuation">:</span>            max_num <span class="token operator">=</span> max<span class="token punctuation">(</span>max_num<span class="token punctuation">,</span> difference<span class="token punctuation">)</span>            min_num <span class="token operator">=</span> min<span class="token punctuation">(</span>min_num<span class="token punctuation">,</span> difference<span class="token punctuation">)</span>        res <span class="token operator">=</span> <span class="token number">0</span>        <span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span>lower<span class="token punctuation">,</span> upper <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">if</span> i <span class="token operator">+</span> min_num <span class="token operator">>=</span> lower <span class="token operator">and</span> i <span class="token operator">+</span> max_num <span class="token operator">&lt;=</span> upper<span class="token punctuation">:</span>                res <span class="token operator">+=</span> <span class="token number">1</span>        <span class="token keyword">return</span> res</code></pre><hr><h2 id="3-ä»·æ ¼èŒƒå›´å†…æœ€é«˜æ’åçš„Kæ ·ç‰©å“"><a href="#3-ä»·æ ¼èŒƒå›´å†…æœ€é«˜æ’åçš„Kæ ·ç‰©å“" class="headerlink" title="3 ä»·æ ¼èŒƒå›´å†…æœ€é«˜æ’åçš„Kæ ·ç‰©å“"></a>3 ä»·æ ¼èŒƒå›´å†…æœ€é«˜æ’åçš„Kæ ·ç‰©å“</h2><p><code>BFS</code>åŠ <code>è‡ªå®šä¹‰æ’åº</code></p><pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">highestRankedKItems</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> grid<span class="token punctuation">:</span> List<span class="token punctuation">[</span>List<span class="token punctuation">[</span>int<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> pricing<span class="token punctuation">:</span> List<span class="token punctuation">[</span>int<span class="token punctuation">]</span><span class="token punctuation">,</span> start<span class="token punctuation">:</span> List<span class="token punctuation">[</span>int<span class="token punctuation">]</span><span class="token punctuation">,</span> k<span class="token punctuation">:</span> int<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> List<span class="token punctuation">[</span>        List<span class="token punctuation">[</span>int<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">:</span>        queue <span class="token operator">=</span> <span class="token punctuation">[</span>start<span class="token punctuation">]</span>        res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        m<span class="token punctuation">,</span> n <span class="token operator">=</span> len<span class="token punctuation">(</span>grid<span class="token punctuation">)</span><span class="token punctuation">,</span> len<span class="token punctuation">(</span>grid<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>        used <span class="token operator">=</span> set<span class="token punctuation">(</span><span class="token punctuation">)</span>        used<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token punctuation">(</span>start<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> start<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">while</span> queue<span class="token punctuation">:</span>            next <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>            cur <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>            <span class="token keyword">for</span> node <span class="token keyword">in</span> queue<span class="token punctuation">:</span>                row <span class="token operator">=</span> node<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>                col <span class="token operator">=</span> node<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>                <span class="token keyword">for</span> xi<span class="token punctuation">,</span> yi <span class="token keyword">in</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>                    <span class="token keyword">if</span> <span class="token number">0</span> <span class="token operator">&lt;=</span> row <span class="token operator">+</span> xi <span class="token operator">&lt;</span> m <span class="token operator">and</span> <span class="token number">0</span> <span class="token operator">&lt;=</span> col <span class="token operator">+</span> yi <span class="token operator">&lt;</span> n<span class="token punctuation">:</span>                        <span class="token keyword">if</span> grid<span class="token punctuation">[</span>row <span class="token operator">+</span> xi<span class="token punctuation">]</span><span class="token punctuation">[</span>col <span class="token operator">+</span> yi<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token number">0</span> <span class="token operator">and</span> <span class="token punctuation">(</span>row <span class="token operator">+</span> xi<span class="token punctuation">,</span> col <span class="token operator">+</span> yi<span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token keyword">in</span> used<span class="token punctuation">:</span>                            used<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token punctuation">(</span>row <span class="token operator">+</span> xi<span class="token punctuation">,</span> col <span class="token operator">+</span> yi<span class="token punctuation">)</span><span class="token punctuation">)</span>                            next<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">[</span>row <span class="token operator">+</span> xi<span class="token punctuation">,</span> col <span class="token operator">+</span> yi<span class="token punctuation">]</span><span class="token punctuation">)</span>                <span class="token keyword">if</span> pricing<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&lt;=</span> grid<span class="token punctuation">[</span>row<span class="token punctuation">]</span><span class="token punctuation">[</span>col<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> pricing<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span>                    cur<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">[</span>grid<span class="token punctuation">[</span>row<span class="token punctuation">]</span><span class="token punctuation">[</span>col<span class="token punctuation">]</span><span class="token punctuation">,</span> row<span class="token punctuation">,</span> col<span class="token punctuation">]</span><span class="token punctuation">)</span>            cur<span class="token punctuation">.</span>sort<span class="token punctuation">(</span>key<span class="token operator">=</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> <span class="token punctuation">(</span>x<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> x<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> x<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token keyword">while</span> cur <span class="token operator">and</span> k<span class="token punctuation">:</span>                node <span class="token operator">=</span> cur<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>                res<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">[</span>node<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> node<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>                k <span class="token operator">-=</span> <span class="token number">1</span>            <span class="token keyword">if</span> k <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>                <span class="token keyword">return</span> res            queue <span class="token operator">=</span> next        <span class="token keyword">return</span> res</code></pre><hr><h2 id="4-åˆ†éš”é•¿å»Šçš„æ–¹æ¡ˆæ•°"><a href="#4-åˆ†éš”é•¿å»Šçš„æ–¹æ¡ˆæ•°" class="headerlink" title="4 åˆ†éš”é•¿å»Šçš„æ–¹æ¡ˆæ•°"></a>4 åˆ†éš”é•¿å»Šçš„æ–¹æ¡ˆæ•°</h2><p><code>æ¨¡æ‹Ÿ</code>ï¼Œåªéœ€è€ƒè™‘â€Sâ€çš„ä½ç½®ï¼Œå¹¶è®¡ç®—ä¸€ç»„çš„åä¸€ä¸ªSä½ç½®åˆ°åä¸€ç»„çš„å‰ä¸€ä¸ªSä½ç½®çš„è·ç¦»ï¼Œè·ç¦»ç»“æœç›¸ä¹˜ã€‚</p><pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">numberOfWays</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> corridor<span class="token punctuation">:</span> str<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> int<span class="token punctuation">:</span>        seat_index <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        <span class="token keyword">for</span> index <span class="token keyword">in</span> range<span class="token punctuation">(</span>len<span class="token punctuation">(</span>corridor<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">if</span> corridor<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'S'</span><span class="token punctuation">:</span>                seat_index<span class="token punctuation">.</span>append<span class="token punctuation">(</span>index<span class="token punctuation">)</span>        <span class="token keyword">if</span> len<span class="token punctuation">(</span>seat_index<span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">!=</span> <span class="token number">0</span> <span class="token operator">or</span> len<span class="token punctuation">(</span>seat_index<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token number">0</span>        res<span class="token punctuation">,</span> MOD <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span> <span class="token operator">**</span> <span class="token number">9</span> <span class="token operator">+</span> <span class="token number">7</span>        <span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> len<span class="token punctuation">(</span>seat_index<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            res <span class="token operator">*=</span> <span class="token punctuation">(</span>seat_index<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> seat_index<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>            res <span class="token operator">%=</span> MOD        <span class="token keyword">return</span> res</code></pre>]]></content>
      
      
      <categories>
          
          <category> LeetCode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‘¨èµ› </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Kafkaä¸‰èŠ‚ç‚¹é›†ç¾¤æ­å»º</title>
      <link href="2022/01/10/Kafka%E4%B8%89%E8%8A%82%E7%82%B9%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BA/"/>
      <url>2022/01/10/Kafka%E4%B8%89%E8%8A%82%E7%82%B9%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BA/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€-æ•´ä½“æ­¥éª¤"><a href="#ä¸€-æ•´ä½“æ­¥éª¤" class="headerlink" title="ä¸€ æ•´ä½“æ­¥éª¤"></a>ä¸€ æ•´ä½“æ­¥éª¤</h2><ul><li>hostsé…ç½®</li><li>å®‰è£…é…ç½®Zookeeper</li><li>Kafkaé›†ç¾¤æ­å»º</li></ul><a id="more"></a><h2 id="äºŒ-é…ç½®Hosts"><a href="#äºŒ-é…ç½®Hosts" class="headerlink" title="äºŒ é…ç½®Hosts"></a>äºŒ é…ç½®Hosts</h2><ul><li><p>ä¿®æ”¹hostsæ–‡ä»¶</p><pre class=" language-shell"><code class="language-shell">sudo vi /etc/hosts# é…ç½®å¦‚ä¸‹127.0.0.1   localhost192.168.0.100 master192.168.0.101 slave1192.168.0.102 slave2</code></pre></li></ul><h2 id="ä¸‰-å®‰è£…é…ç½®Zookeeper"><a href="#ä¸‰-å®‰è£…é…ç½®Zookeeper" class="headerlink" title="ä¸‰ å®‰è£…é…ç½®Zookeeper"></a>ä¸‰ å®‰è£…é…ç½®Zookeeper</h2><ul><li><p>ä¸‹è½½è§£å‹</p><pre class=" language-shell"><code class="language-shell"># ä½¿ç”¨wgetæˆ–æœ¬åœ°ä¸‹è½½åä¼ åˆ°æœåŠ¡å™¨cd /home/sudo mkdir zookeepercd /home/zookeepersudo wget https://dlcdn.apache.org/zookeeper/zookeeper-3.5.9/apache-zookeeper-3.5.9-bin.tar.gzsudo tar -zxvf apache-zookeeper-3.5.9-bin.tar.gz</code></pre></li><li><p>é…ç½®ç¯å¢ƒå˜é‡</p><pre class=" language-shell"><code class="language-shell"># ä¿®æ”¹ä¸‰å°ä¸»æœº# sudo vi /etc/profile# æ·»åŠ ç¯å¢ƒå˜é‡export ZOOKEEPER_HOME=/home/zookeeper/apache-zookeeper-3.5.9-binexport PATH=$ZOOKEEPER_HOME/bin:$PATHsource /etc/profile</code></pre></li></ul><ul><li><p>åˆ›å»ºç›®å½•</p><pre class=" language-shell"><code class="language-shell">cd apache-zookeeper-3.5.9-binsudo mkdir datasudo mkdir logs</code></pre></li></ul><ul><li><p>ä¿®æ”¹é…ç½®</p><pre class=" language-shell"><code class="language-shell">cd confsudo cp zoo_sample.cfg zoo.cfgsudo vi zoo.cfgtickTime=2000initLimit=10syncLimit=5dataDir=/home/zookeeper/apache-zookeeper-3.5.9-bin/datadataLogDir=/home/zookeeper/apache-zookeeper-3.5.9-bin/logsclientPort=2181# å¦‚æœä¸ºå½“å‰ä¸»æœºï¼Œåˆ™ä¿®æ”¹ä¸º0.0.0.0server.1=master:2287:3387server.2=slave1:2287:3387server.3=slave2:2287:3387</code></pre></li><li><p>åˆ›å»º<code>myid</code>æ–‡ä»¶</p><blockquote><p>åœ¨å„æœåŠ¡å™¨èŠ‚ç‚¹(<code>master</code>ã€<code>slave1</code>ã€<code>slave2</code>)çš„ <code>dataDir</code> ç›®å½•ä¸‹åˆ›å»ºåä¸º <code>myid</code> çš„æ–‡ä»¶ï¼Œåœ¨æ–‡ä»¶ç¬¬ä¸€è¡Œå†™ä¸Šå¯¹åº”çš„ Server id</p></blockquote><pre class=" language-shell"><code class="language-shell">master:echo "1" > myidslave1:echo "2" > myidslave2:echo "3" > myid</code></pre></li><li><p>å¯åŠ¨æµ‹è¯•</p><blockquote><p>å¯åŠ¨é¡ºåºå†³å®šleadert,follower</p></blockquote><pre class=" language-shell"><code class="language-shell"># åˆ†åˆ«åœ¨ä¸‰å°ä¸»æœºä¸Šcd /home/zookeeper/apache-zookeeper-3.5.9-bin/bin/zkServer.sh start# é›†ç¾¤éªŒè¯# æŸ¥çœ‹çŠ¶æ€(éœ€å…¨éƒ¨èŠ‚ç‚¹å¯åŠ¨)zkServer.sh status</code></pre></li><li><p>åŸºæœ¬å‘½ä»¤</p><pre class=" language-shell"><code class="language-shell"># åœæ­¢zkServer.sh stop</code></pre></li></ul><h2 id="å››-KafKa-é›†ç¾¤æ­å»º"><a href="#å››-KafKa-é›†ç¾¤æ­å»º" class="headerlink" title="å›› KafKa é›†ç¾¤æ­å»º"></a>å›› KafKa é›†ç¾¤æ­å»º</h2><ul><li><p>ä¸‹è½½è§£å‹</p><blockquote><p>æ³¨æ„é€‰æ‹©ç‰ˆæœ¬æ—¶ï¼Œé€‰æ‹©<code>Binary downloads</code>,ä¸è¦é€‰æ‹©<code>Source download</code>ï¼ï¼ï¼å¦åˆ™å¯åŠ¨æ—¶ä¼šæç¤º<code>Could not find or load main class kafka.Kafka</code>ï¼Œæ­¤æ—¶éœ€è¦ç¼–è¯‘åæ‰å¯ä»¥ä½¿ç”¨ ã€‚</p></blockquote><pre class=" language-shell"><code class="language-shell">cd /homemkdir Kafkacd Kafkamkdir datasudo wget https://archive.apache.org/dist/kafka/3.0.0/kafka_2.12-3.0.0.tgztar -xzf kafka_2.12-3.0.0.tgz</code></pre></li><li><p>ä¿®æ”¹é…ç½®</p><pre class=" language-shell"><code class="language-shell">cd kafka_2.12-3.0.0/configvi server.properties# èŠ‚ç‚¹1# ç¾¤ä¸­æ¯ä¸ªèŠ‚ç‚¹çš„å”¯ä¸€æ ‡è¯†broker.id=0# ç›‘å¬åœ°å€listeners=PLAINTEXT://master:9092# æ•°æ®çš„å­˜å‚¨ä½ç½®log.dirs=/home/Kafka/data# Zookeeperè¿æ¥åœ°å€zookeeper.connect=master:2181,slave1:2181,slave2:2181# èŠ‚ç‚¹2broker.id=1listeners=PLAINTEXT://slave1:9092log.dirs=/home/Kafka/datazookeeper.connect=master:2181,slave1:2181,slave2:2181# èŠ‚ç‚¹3broker.id=2listeners=PLAINTEXT://slave2:9092log.dirs=/home/Kafka/datazookeeper.connect=master:2181,slave1:2181,slave2:2181</code></pre></li><li><p>å¯åŠ¨</p><pre class=" language-shell"><code class="language-shell"># ä¸‰èŠ‚ç‚¹åˆ†åˆ«è¿è¡Œå¯åŠ¨cd /home/Kafka/kafka_2.12-3.0.0bin/kafka-server-start.sh -daemon config/server.properties </code></pre></li><li><p>æµ‹è¯•</p><pre class=" language-shell"><code class="language-shell">bin/kafka-topics.sh --create --bootstrap-server master:9092 --replication-factor 1 --partitions 1 --topic testbin/kafka-topics.sh --list --bootstrap-server master:9092bin/kafka-topics.sh --describe --bootstrap-server master:9092 --topic test</code></pre></li></ul>]]></content>
      
      
      <categories>
          
          <category> Kafka </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>266å‘¨èµ›æ€»ç»“</title>
      <link href="2021/11/07/266%E5%91%A8%E8%B5%9B%E6%80%BB%E7%BB%93/"/>
      <url>2021/11/07/266%E5%91%A8%E8%B5%9B%E6%80%BB%E7%BB%93/</url>
      
        <content type="html"><![CDATA[<ol><li><p><a href="https://leetcode-cn.com/problems/count-vowel-substrings-of-a-string/">ç»Ÿè®¡å­—ç¬¦ä¸²ä¸­çš„å…ƒéŸ³å­å­—ç¬¦ä¸²</a></p><p>æš´åŠ›ï¼Œä¸¤æ¬¡éå†æ‰¾å‡ºç¬¦åˆæ¡ä»¶çš„æ•°ç›®</p><a id="more"></a><pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">countVowelSubstrings</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> word<span class="token punctuation">:</span> str<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> int<span class="token punctuation">:</span>        res <span class="token operator">=</span> <span class="token number">0</span>        word_set <span class="token operator">=</span> set<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span>len<span class="token punctuation">(</span>word<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">if</span> word<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token keyword">in</span> <span class="token string">'aeiou'</span><span class="token punctuation">:</span>                <span class="token keyword">for</span> j <span class="token keyword">in</span> range<span class="token punctuation">(</span>i<span class="token punctuation">,</span> len<span class="token punctuation">(</span>word<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>                    <span class="token keyword">if</span> word<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token keyword">in</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'e'</span><span class="token punctuation">,</span> <span class="token string">'i'</span><span class="token punctuation">,</span> <span class="token string">'o'</span><span class="token punctuation">,</span> <span class="token string">'u'</span><span class="token punctuation">]</span><span class="token punctuation">:</span>                        word_set<span class="token punctuation">.</span>add<span class="token punctuation">(</span>word<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span>                    <span class="token keyword">else</span><span class="token punctuation">:</span>                        word_set <span class="token operator">=</span> set<span class="token punctuation">(</span><span class="token punctuation">)</span>                        <span class="token keyword">break</span>                    <span class="token keyword">if</span> <span class="token string">'a'</span> <span class="token keyword">in</span> word_set <span class="token operator">and</span> <span class="token string">'e'</span> <span class="token keyword">in</span> word_set <span class="token operator">and</span> <span class="token string">'i'</span> <span class="token keyword">in</span> word_set <span class="token operator">and</span> <span class="token string">'o'</span> <span class="token keyword">in</span> word_set <span class="token operator">and</span> <span class="token string">'u'</span> <span class="token keyword">in</span> word_set<span class="token punctuation">:</span>                        res <span class="token operator">+=</span> <span class="token number">1</span>                word_set <span class="token operator">=</span> set<span class="token punctuation">(</span><span class="token punctuation">)</span>            <span class="token keyword">else</span><span class="token punctuation">:</span>                <span class="token keyword">continue</span>        <span class="token keyword">return</span> res</code></pre></li></ol><hr><ol start="2"><li><p><a href="https://leetcode-cn.com/problems/vowels-of-all-substrings/">æ‰€æœ‰å­å­—ç¬¦ä¸²ä¸­çš„å…ƒéŸ³</a></p><p>åŒæŒ‡é’ˆï¼Œ</p><pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">countVowels</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> word<span class="token punctuation">:</span> str<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> int<span class="token punctuation">:</span>        left <span class="token operator">=</span> right <span class="token operator">=</span> <span class="token number">0</span>        res <span class="token operator">=</span> <span class="token number">0</span>        cur <span class="token operator">=</span> <span class="token number">0</span>        pre <span class="token operator">=</span> <span class="token number">0</span>        <span class="token keyword">while</span> right <span class="token operator">&lt;</span> len<span class="token punctuation">(</span>word<span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">if</span> word<span class="token punctuation">[</span>right<span class="token punctuation">]</span> <span class="token keyword">in</span> <span class="token string">'aeiou'</span><span class="token punctuation">:</span>                cur <span class="token operator">+=</span> <span class="token number">1</span>            pre <span class="token operator">+=</span> cur            right <span class="token operator">+=</span> <span class="token number">1</span>        pw <span class="token operator">=</span> word<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>        res <span class="token operator">+=</span> pre        left <span class="token operator">+=</span> <span class="token number">1</span>        <span class="token keyword">while</span> left <span class="token operator">&lt;</span> len<span class="token punctuation">(</span>word<span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">if</span> pw <span class="token keyword">in</span> <span class="token string">'aeiou'</span><span class="token punctuation">:</span>                pre <span class="token operator">=</span> pre <span class="token operator">-</span> <span class="token punctuation">(</span>len<span class="token punctuation">(</span>word<span class="token punctuation">)</span> <span class="token operator">-</span> left <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>            res <span class="token operator">+=</span> pre            pw <span class="token operator">=</span> word<span class="token punctuation">[</span>left<span class="token punctuation">]</span>            left <span class="token operator">+=</span> <span class="token number">1</span>        <span class="token keyword">return</span> res</code></pre></li></ol><hr><ol start="3"><li><a href="https://leetcode-cn.com/problems/minimized-maximum-of-products-distributed-to-any-store/">åˆ†é…ç»™å•†åº—çš„æœ€å¤šå•†å“çš„æœ€å°å€¼</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> å‘¨èµ› </category>
          
      </categories>
      
      
        <tags>
            
            <tag> LeetCode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>265å‘¨èµ›æ€»ç»“</title>
      <link href="2021/11/02/265%E5%91%A8%E8%B5%9B%E6%80%BB%E7%BB%93/"/>
      <url>2021/11/02/265%E5%91%A8%E8%B5%9B%E6%80%BB%E7%BB%93/</url>
      
        <content type="html"><![CDATA[<ol><li><h4 id="å€¼ç›¸ç­‰çš„æœ€å°ç´¢å¼•"><a href="#å€¼ç›¸ç­‰çš„æœ€å°ç´¢å¼•" class="headerlink" title="å€¼ç›¸ç­‰çš„æœ€å°ç´¢å¼•"></a><a href="https://leetcode-cn.com/problems/smallest-index-with-equal-value/">å€¼ç›¸ç­‰çš„æœ€å°ç´¢å¼•</a></h4><p>æ¨¡æ‹Ÿéå†ï¼Œæ»¡è¶³æ¡ä»¶åˆ™è¿”å›</p><a id="more"></a><pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">smallestEqual</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span>int<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> int<span class="token punctuation">:</span>        <span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span>len<span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">if</span> i <span class="token operator">%</span> <span class="token number">10</span> <span class="token operator">==</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">:</span>                <span class="token keyword">return</span> i        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span></code></pre></li></ol><ol start="2"><li><h4 id="æ‰¾å‡ºä¸´ç•Œç‚¹ä¹‹é—´çš„æœ€å°å’Œæœ€å¤§è·ç¦»"><a href="#æ‰¾å‡ºä¸´ç•Œç‚¹ä¹‹é—´çš„æœ€å°å’Œæœ€å¤§è·ç¦»" class="headerlink" title="æ‰¾å‡ºä¸´ç•Œç‚¹ä¹‹é—´çš„æœ€å°å’Œæœ€å¤§è·ç¦»"></a><a href="https://leetcode-cn.com/problems/find-the-minimum-and-maximum-number-of-nodes-between-critical-points/">æ‰¾å‡ºä¸´ç•Œç‚¹ä¹‹é—´çš„æœ€å°å’Œæœ€å¤§è·ç¦»</a></h4><p>éå†å¾—å‡ºæ‰€æœ‰çš„æå¤§æå°å€¼ç‚¹åˆ—è¡¨</p><p>éå†æå¤§æå°å€¼åˆ—è¡¨ï¼Œæ‰¾å‡ºæœ€å¤§æœ€å°è·ç¦»</p><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># Definition for singly-linked list.</span><span class="token comment" spellcheck="true"># class ListNode:</span><span class="token comment" spellcheck="true">#     def __init__(self, val=0, next=None):</span><span class="token comment" spellcheck="true">#         self.val = val</span><span class="token comment" spellcheck="true">#         self.next = next</span><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">nodesBetweenCriticalPoints</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> head<span class="token punctuation">:</span> Optional<span class="token punctuation">[</span>ListNode<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> List<span class="token punctuation">[</span>int<span class="token punctuation">]</span><span class="token punctuation">:</span>        point_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        <span class="token keyword">if</span> <span class="token operator">not</span> head<span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>        i <span class="token operator">=</span> <span class="token number">0</span>        res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        <span class="token keyword">while</span> head<span class="token punctuation">.</span>next<span class="token punctuation">:</span>            pre <span class="token operator">=</span> head<span class="token punctuation">.</span>val            head <span class="token operator">=</span> head<span class="token punctuation">.</span>next            i <span class="token operator">+=</span> <span class="token number">1</span>            <span class="token keyword">if</span> head<span class="token punctuation">.</span>next <span class="token operator">and</span> pre <span class="token operator">&lt;</span> head<span class="token punctuation">.</span>val <span class="token operator">></span> head<span class="token punctuation">.</span>next<span class="token punctuation">.</span>val<span class="token punctuation">:</span>                point_list<span class="token punctuation">.</span>append<span class="token punctuation">(</span>i<span class="token punctuation">)</span>            <span class="token keyword">if</span> head<span class="token punctuation">.</span>next <span class="token operator">and</span> pre <span class="token operator">></span> head<span class="token punctuation">.</span>val <span class="token operator">&lt;</span> head<span class="token punctuation">.</span>next<span class="token punctuation">.</span>val<span class="token punctuation">:</span>                point_list<span class="token punctuation">.</span>append<span class="token punctuation">(</span>i<span class="token punctuation">)</span>        <span class="token keyword">if</span> len<span class="token punctuation">(</span>point_list<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">2</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>        res <span class="token operator">=</span> <span class="token punctuation">[</span>point_list<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> point_list<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> point_list<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> point_list<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span>        <span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> len<span class="token punctuation">(</span>point_list<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            res<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> min<span class="token punctuation">(</span>res<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> point_list<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> point_list<span class="token punctuation">[</span>i<span class="token number">-1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>            <span class="token keyword">if</span> point_list<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> point_list<span class="token punctuation">[</span>i<span class="token number">-1</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>                <span class="token keyword">break</span>        <span class="token keyword">return</span> res</code></pre></li><li><h4 id="è½¬åŒ–æ•°å­—çš„æœ€å°è¿ç®—æ•°"><a href="#è½¬åŒ–æ•°å­—çš„æœ€å°è¿ç®—æ•°" class="headerlink" title="[è½¬åŒ–æ•°å­—çš„æœ€å°è¿ç®—æ•°"></a>[è½¬åŒ–æ•°å­—çš„æœ€å°è¿ç®—æ•°</h4><p>å…¸å‹æ— æƒæœ€çŸ­è·¯ï¼Œä½¿ç”¨BFSæ±‚è§£</p><blockquote><p>ğŸ˜­å¼€å§‹æƒ³æˆäº†å›æº¯</p></blockquote><pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">minimumOperations</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span>int<span class="token punctuation">]</span><span class="token punctuation">,</span> start<span class="token punctuation">:</span> int<span class="token punctuation">,</span> goal<span class="token punctuation">:</span> int<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> int<span class="token punctuation">:</span>        q <span class="token operator">=</span> deque<span class="token punctuation">(</span><span class="token punctuation">[</span>start<span class="token punctuation">]</span><span class="token punctuation">)</span>        visited <span class="token operator">=</span> set<span class="token punctuation">(</span><span class="token punctuation">)</span>        step <span class="token operator">=</span> <span class="token number">0</span>        <span class="token keyword">while</span> q<span class="token punctuation">:</span>            size <span class="token operator">=</span> len<span class="token punctuation">(</span>q<span class="token punctuation">)</span>            <span class="token keyword">while</span> size<span class="token punctuation">:</span>                cur <span class="token operator">=</span> q<span class="token punctuation">.</span>popleft<span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token keyword">for</span> num <span class="token keyword">in</span> nums<span class="token punctuation">:</span>                    cal <span class="token operator">=</span> <span class="token punctuation">[</span>num <span class="token operator">+</span> cur<span class="token punctuation">,</span> cur <span class="token operator">-</span> num<span class="token punctuation">,</span> cur <span class="token operator">^</span> num<span class="token punctuation">]</span>                    <span class="token keyword">for</span> x <span class="token keyword">in</span> cal<span class="token punctuation">:</span>                        <span class="token keyword">if</span> x <span class="token operator">==</span> goal<span class="token punctuation">:</span>                            <span class="token keyword">return</span> step <span class="token operator">+</span> <span class="token number">1</span>                        <span class="token keyword">if</span> <span class="token number">0</span> <span class="token operator">&lt;=</span> x <span class="token operator">&lt;=</span> <span class="token number">1000</span> <span class="token operator">and</span> x <span class="token operator">not</span> <span class="token keyword">in</span> visited<span class="token punctuation">:</span>                            visited<span class="token punctuation">.</span>add<span class="token punctuation">(</span>x<span class="token punctuation">)</span>                            q<span class="token punctuation">.</span>append<span class="token punctuation">(</span>x<span class="token punctuation">)</span>                size <span class="token operator">-=</span> <span class="token number">1</span>            step <span class="token operator">+=</span> <span class="token number">1</span>        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span></code></pre></li><li><h4 id="åŒæºå­—ç¬¦ä¸²æ£€æµ‹"><a href="#åŒæºå­—ç¬¦ä¸²æ£€æµ‹" class="headerlink" title="åŒæºå­—ç¬¦ä¸²æ£€æµ‹"></a><a href="https://leetcode-cn.com/problems/check-if-an-original-string-exists-given-two-encoded-strings/">åŒæºå­—ç¬¦ä¸²æ£€æµ‹</a></h4></li></ol>]]></content>
      
      
      <categories>
          
          <category> å‘¨èµ› </category>
          
      </categories>
      
      
        <tags>
            
            <tag> LeetCode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>259å‘¨èµ›æ€»ç»“</title>
      <link href="2021/09/21/259%E5%91%A8%E8%B5%9B%E6%80%BB%E7%BB%93/"/>
      <url>2021/09/21/259%E5%91%A8%E8%B5%9B%E6%80%BB%E7%BB%93/</url>
      
        <content type="html"><![CDATA[<h4 id="2011-æ‰§è¡Œæ“ä½œåçš„å˜é‡å€¼"><a href="#2011-æ‰§è¡Œæ“ä½œåçš„å˜é‡å€¼" class="headerlink" title="2011. æ‰§è¡Œæ“ä½œåçš„å˜é‡å€¼"></a><a href="https://leetcode-cn.com/problems/final-value-of-variable-after-performing-operations/">2011. æ‰§è¡Œæ“ä½œåçš„å˜é‡å€¼</a></h4><h5 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h5><p>â€‹    æ°´é¢˜ï¼Œå¸¸è§„å¾ªç¯+åˆ¤æ–­</p><a id="more"></a><h5 id="è§£ç­”"><a href="#è§£ç­”" class="headerlink" title="è§£ç­”"></a>è§£ç­”</h5><pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">finalValueAfterOperations</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> operations<span class="token punctuation">:</span> List<span class="token punctuation">[</span>str<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> int<span class="token punctuation">:</span>        res <span class="token operator">=</span> <span class="token number">0</span>        <span class="token keyword">for</span> operation <span class="token keyword">in</span> operations<span class="token punctuation">:</span>            <span class="token keyword">if</span> operation <span class="token operator">==</span> <span class="token string">'++X'</span> <span class="token operator">or</span> operation <span class="token operator">==</span> <span class="token string">'X++'</span><span class="token punctuation">:</span>                res <span class="token operator">+=</span> <span class="token number">1</span>            <span class="token keyword">elif</span> operation <span class="token operator">==</span> <span class="token string">'--X'</span> <span class="token operator">or</span> operation <span class="token operator">==</span> <span class="token string">'X--'</span><span class="token punctuation">:</span>                res <span class="token operator">-=</span> <span class="token number">1</span>        <span class="token keyword">return</span> res</code></pre><h4 id="2012-æ•°ç»„ç¾ä¸½å€¼æ±‚å’Œ"><a href="#2012-æ•°ç»„ç¾ä¸½å€¼æ±‚å’Œ" class="headerlink" title="2012. æ•°ç»„ç¾ä¸½å€¼æ±‚å’Œ"></a><a href="https://leetcode-cn.com/problems/sum-of-beauty-in-the-array/">2012. æ•°ç»„ç¾ä¸½å€¼æ±‚å’Œ</a></h4><h5 id="æ€è·¯-1"><a href="#æ€è·¯-1" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h5><p>â€‹    åˆ†ä¸¤æ¬¡å‰åå¾ªç¯ï¼Œå¾—å‡ºæ•°ç»„çš„æ­£å‘å’Œåå‘çš„æœ€å¤§æœ€å°å€¼åˆ—è¡¨ï¼Œå†åˆ¤æ–­å¾—å‡ºæœ€ç»ˆçš„ç¾ä¸½å€¼ã€‚</p><h5 id="è§£ç­”-1"><a href="#è§£ç­”-1" class="headerlink" title="è§£ç­”"></a>è§£ç­”</h5><pre class=" language-Python"><code class="language-Python">class Solution:    def sumOfBeauties(self, nums: List[int]) -> int:        nums_max = [nums[0]] * len(nums)        nums_min = [nums[-1]] * len(nums)        for i in range(1, len(nums)):            nums_max[i] = max(nums[i], nums_max[i - 1])        for i in range(len(nums) - 2, -1, -1):            nums_min[i] = min(nums[i], nums_min[i + 1])        res = 0        for i in range(1, len(nums) - 1):            if nums_max[i - 1] < nums[i] < nums_min[i + 1]:                res += 2            elif nums[i-1] < nums[i] <  nums[i+1]:                res += 1        return res</code></pre><h4 id="2013-æ£€æµ‹æ­£æ–¹å½¢"><a href="#2013-æ£€æµ‹æ­£æ–¹å½¢" class="headerlink" title="2013. æ£€æµ‹æ­£æ–¹å½¢"></a><a href="https://leetcode-cn.com/problems/detect-squares/">2013. æ£€æµ‹æ­£æ–¹å½¢</a></h4><h5 id="æ€è·¯-2"><a href="#æ€è·¯-2" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h5><p>â€‹    ä½¿ç”¨Hashè¡¨å­˜å‚¨æ¯æ¬¡æ·»åŠ çš„ç‚¹ï¼Œ æ¯æ¬¡æŸ¥è¯¢æ—¶ï¼Œ åˆ¤æ–­èƒ½æ„æˆæ­£æ–¹å½¢çš„ä¸‰ä¸ªç‚¹æ˜¯å¦å­˜åœ¨å“ˆå¸Œè¡¨ä¸­ï¼Œåˆ¤æ–­å…¬å¼å¦‚ä¸‹ï¼šx,y(æŸ¥è¯¢çš„ç‚¹)ï¼Œ (x1,y1),  (x, y1), (x1,y)å­˜åœ¨å“ˆå¸Œè¡¨ä¸­ï¼Œä¸”abs(x1 - x) = abs(y1 - y)</p><h5 id="è§£ç­”-2"><a href="#è§£ç­”-2" class="headerlink" title="è§£ç­”"></a>è§£ç­”</h5><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> collections <span class="token keyword">import</span> Counter<span class="token keyword">class</span> <span class="token class-name">DetectSquares</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>square <span class="token operator">=</span> Counter<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">add</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> point<span class="token punctuation">:</span> List<span class="token punctuation">[</span>int<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> None<span class="token punctuation">:</span>        x<span class="token punctuation">,</span> y <span class="token operator">=</span> point        self<span class="token punctuation">.</span>square<span class="token punctuation">[</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span>    <span class="token keyword">def</span> <span class="token function">count</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> point<span class="token punctuation">:</span> List<span class="token punctuation">[</span>int<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> int<span class="token punctuation">:</span>        x1<span class="token punctuation">,</span> y1 <span class="token operator">=</span> point        res <span class="token operator">=</span> <span class="token number">0</span>        <span class="token keyword">for</span> x<span class="token punctuation">,</span> y <span class="token keyword">in</span> self<span class="token punctuation">.</span>square<span class="token punctuation">:</span>            <span class="token keyword">if</span> abs<span class="token punctuation">(</span>x1<span class="token operator">-</span>x<span class="token punctuation">)</span> <span class="token operator">==</span> abs<span class="token punctuation">(</span>y1<span class="token operator">-</span>y<span class="token punctuation">)</span> <span class="token operator">and</span> x <span class="token operator">!=</span> x1<span class="token punctuation">:</span>                 <span class="token keyword">if</span> <span class="token punctuation">(</span>x1<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token keyword">in</span> self<span class="token punctuation">.</span>square <span class="token operator">and</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span> y1<span class="token punctuation">)</span> <span class="token keyword">in</span> self<span class="token punctuation">.</span>square<span class="token punctuation">:</span>                     res <span class="token operator">+=</span> self<span class="token punctuation">.</span>square<span class="token punctuation">[</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">*</span> self<span class="token punctuation">.</span>square<span class="token punctuation">[</span><span class="token punctuation">(</span>x1<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">*</span> self<span class="token punctuation">.</span>square<span class="token punctuation">[</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y1<span class="token punctuation">)</span><span class="token punctuation">]</span>        <span class="token keyword">return</span> res</code></pre>]]></content>
      
      
      <categories>
          
          <category> å‘¨èµ› </category>
          
      </categories>
      
      
        <tags>
            
            <tag> LeetCode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å½“Clickhouse Distributedé‡åˆ°ReplacingMergeTree</title>
      <link href="2021/09/07/%E5%BD%93Clickhouse%20Distributed%E9%81%87%E5%88%B0ReplacingMergeTree/"/>
      <url>2021/09/07/%E5%BD%93Clickhouse%20Distributed%E9%81%87%E5%88%B0ReplacingMergeTree/</url>
      
        <content type="html"><![CDATA[<h4 id="é—®é¢˜æè¿°"><a href="#é—®é¢˜æè¿°" class="headerlink" title="é—®é¢˜æè¿°"></a>é—®é¢˜æè¿°</h4><p>â€‹    ç”±äºä¸šåŠ¡é™åˆ¶ï¼Œæ•°æ®åº“ä¸­å­˜åœ¨å¤§é‡é‡å¤æ•°æ®ï¼Œæ•…é‡‡ç”¨äº†ReplacingMergeTreeè¡¨å¼•æ“ï¼Œä½†åå°å§‹ç»ˆæ²¡æœ‰è¿›è¡Œæ•°æ®åˆå¹¶ã€‚</p><a id="more"></a><ul><li><p>å»ºè¡¨è¯­å¥</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> xxxx<span class="token punctuation">.</span>xxxx <span class="token keyword">ON</span> CLUSTER xxx<span class="token punctuation">(</span>    user_id String<span class="token punctuation">,</span>    name String<span class="token punctuation">,</span> <span class="token punctuation">)</span><span class="token keyword">ENGINE</span> <span class="token operator">=</span> ReplacingMergeTree<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">ORDER</span> <span class="token keyword">BY</span> <span class="token punctuation">(</span>user_id<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> xxxx<span class="token punctuation">.</span>xxxx <span class="token keyword">ON</span> CLUSTER xxx <span class="token keyword">as</span> xxxx<span class="token punctuation">.</span>xxxx <span class="token keyword">ENGINE</span> <span class="token operator">=</span> <span class="token keyword">Distributed</span><span class="token punctuation">(</span><span class="token string">'xxxx'</span><span class="token punctuation">,</span> <span class="token string">'xxxx'</span><span class="token punctuation">,</span> xxxx<span class="token punctuation">,</span> rand<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li></ul><ul><li><p>æŸ¥è¯¢æ•°æ®æ˜¯å¦æœ‰é‡å¤</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> xxxx<span class="token punctuation">.</span>xxxx<span class="token number">41905623</span><span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token keyword">FROM</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> x <span class="token keyword">FROM</span> xxxx<span class="token punctuation">.</span>xxxx <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> <span class="token punctuation">[</span>oder_key<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token number">41705616</span></code></pre></li><li><p>æ‰‹åŠ¨æ‰§è¡Œæ•°æ®åˆå¹¶ï¼Œä¹Ÿæ²¡æœ‰å»é™¤é‡å¤æ•°æ®</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">OPTIMIZE</span> <span class="token keyword">TABLE</span> <span class="token operator">~</span> <span class="token keyword">ON</span> CLUSTER <span class="token operator">~</span> FINAL<span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> xxxx<span class="token punctuation">.</span>xxxx<span class="token number">41905623</span></code></pre></li></ul><h4 id="æ€è€ƒ"><a href="#æ€è€ƒ" class="headerlink" title="æ€è€ƒ"></a>æ€è€ƒ</h4><p>â€‹    åˆ†å¸ƒå¼è¡¨å­˜å‚¨æ•°æ®é‡‡ç”¨åˆ†ç‰‡å­˜å‚¨ï¼Œå¦‚6æ¡æ•°æ®å­˜3ä¸ªèŠ‚ç‚¹ï¼Œåˆ™æ¯ä¸ªèŠ‚ç‚¹å­˜å‚¨2æ¡æ•°æ®ã€‚å½“å‘ç”Ÿæ•°æ®åˆå¹¶æ—¶ï¼Œå¯èƒ½åªåˆå¹¶å½“å‰èŠ‚ç‚¹çš„æ•°æ®ã€‚æœ€ç»ˆä¹Ÿåœ¨è¿™<a href="https://stackoverflow.com/questions/62616949/deduplication-in-distributed-clickhouse-table%EF%BC%8C%E9%AA%8C%E8%AF%81%E4%BA%86%E8%BF%99%E4%B8%80%E7%8C%9C%E6%83%B3%E3%80%82">https://stackoverflow.com/questions/62616949/deduplication-in-distributed-clickhouse-tableï¼ŒéªŒè¯äº†è¿™ä¸€çŒœæƒ³ã€‚</a></p><h4 id="è§£å†³"><a href="#è§£å†³" class="headerlink" title="è§£å†³"></a>è§£å†³</h4><p>â€‹    åˆ›å»ºåˆ†å¸ƒå¼è¡¨æ—¶ï¼Œä¸ä½¿ç”¨rand()è¿›è¡Œéšæœºåˆ†å¸ƒï¼Œä½¿ç”¨user_idè¿›è¡Œåˆ†ç‰‡ï¼Œä½¿ç›¸åŒuser_idçš„æ•°æ®åœ¨å†™å…¥æ—¶è½åœ¨ç›¸åŒçš„èŠ‚ç‚¹ã€‚</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> xxxx<span class="token punctuation">.</span>xxxx <span class="token keyword">ON</span> CLUSTER xxx <span class="token keyword">as</span> xxxx<span class="token punctuation">.</span>xxxx <span class="token keyword">ENGINE</span> <span class="token operator">=</span> <span class="token keyword">Distributed</span><span class="token punctuation">(</span><span class="token string">'xxxx'</span><span class="token punctuation">,</span> <span class="token string">'xxxx'</span><span class="token punctuation">,</span> xxxx<span class="token punctuation">,</span> user_id<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> ClickHouse </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ReplacingMergeTree </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è§£å†³Python3 urllib3 urllib3.exceptions.maxretryerror httpsconnectionpool(host=â€˜xxxxxâ€˜, port=443)</title>
      <link href="2021/06/21/%E8%A7%A3%E5%86%B3Python3%20urllib3%20urllib3.exceptions.maxretryerror%20httpsconnectionpool(host=%E2%80%98xxxxx%E2%80%98,%20port=443)/"/>
      <url>2021/06/21/%E8%A7%A3%E5%86%B3Python3%20urllib3%20urllib3.exceptions.maxretryerror%20httpsconnectionpool(host=%E2%80%98xxxxx%E2%80%98,%20port=443)/</url>
      
        <content type="html"><![CDATA[<h3 id="æŠ¥é”™åŸå› "><a href="#æŠ¥é”™åŸå› " class="headerlink" title="æŠ¥é”™åŸå› "></a>æŠ¥é”™åŸå› </h3><p>åœ¨ä½¿ç”¨ä»£ç†è¿›è¡Œè¯·æ±‚æ—¶ï¼Œä»£ç†åªé€šè¿‡<code>HTTP</code>è¯·æ±‚ï¼Œæ­¤æ—¶è¯·æ±‚è¿›è¡Œ<code>HTTPS</code>éªŒè¯æ—¶éªŒè¯å¤±è´¥ã€‚</p><a id="more"></a><h3 id="ä¸¤ç§è§£å†³æ–¹æ¡ˆ"><a href="#ä¸¤ç§è§£å†³æ–¹æ¡ˆ" class="headerlink" title="ä¸¤ç§è§£å†³æ–¹æ¡ˆ"></a>ä¸¤ç§è§£å†³æ–¹æ¡ˆ</h3><ol><li>åœ¨<code>1.25</code>ç‰ˆæœ¬ä¹‹å‰ï¼Œè¯·æ±‚æ—¶ä¸ä¼šè¿›è¡ŒHTTPSéªŒè¯ã€‚æ•…å¯é™ä½urllib3ç‰ˆæœ¬ã€‚</li></ol><pre class=" language-shell"><code class="language-shell">   1.25 (2019-04-22)   Require and validate certificates by default when using HTTPS (Pull #1507)</code></pre><pre class=" language-shell"><code class="language-shell">pip install -U "urllib3<1.25"</code></pre><ol start="2"><li><p>ä¿®æ”¹æœ¬åœ°ä»£ç†ï¼Œå°†HTTPSè¦†ç›–ä¸ºHTTPè¯·æ±‚</p><blockquote><p>Windows 10ä¸‹æ‰“å¼€è®¾ç½® -&gt; ç½‘ç»œå’ŒInternet -&gt; ä»£ç†ï¼Œæ‰¾åˆ°ä»£ç†çš„IPå’Œç«¯å£</p></blockquote><pre class=" language-python"><code class="language-python">proxies <span class="token operator">=</span> <span class="token operator">&amp;</span><span class="token comment" spellcheck="true">#123;</span>    <span class="token string">'http'</span><span class="token punctuation">:</span> <span class="token string">'http://127.0.0.1:1080'</span><span class="token punctuation">,</span>    <span class="token string">'https'</span><span class="token punctuation">:</span> <span class="token string">'http://127.0.0.1:1080'</span><span class="token operator">&amp;</span><span class="token comment" spellcheck="true">#125;</span>res <span class="token operator">=</span> requests<span class="token punctuation">.</span>post<span class="token punctuation">(</span>url<span class="token punctuation">,</span> data<span class="token operator">=</span>data<span class="token punctuation">,</span> timeout<span class="token operator">=</span><span class="token number">15</span><span class="token punctuation">,</span> proxies<span class="token operator">=</span>proxies<span class="token punctuation">)</span></code></pre></li></ol>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ssl </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pyinstallæ‰“åŒ…ssléªŒè¯é”™è¯¯</title>
      <link href="2021/05/28/Pyinstall%E6%89%93%E5%8C%85ssl%E9%AA%8C%E8%AF%81%E9%94%99%E8%AF%AF/"/>
      <url>2021/05/28/Pyinstall%E6%89%93%E5%8C%85ssl%E9%AA%8C%E8%AF%81%E9%94%99%E8%AF%AF/</url>
      
        <content type="html"><![CDATA[<p>ä½¿ç”¨Google apiï¼Œç¨‹åºèƒ½æ­£å¸¸è¿è¡Œï¼Œä½†ä½¿ç”¨PyInstalleræ‰“åŒ…åå‡ºç°ssléªŒè¯é”™è¯¯</p><blockquote><p>Error: Exception in â€˜grpc._cython.cygrpc.ssl_roots_override_callbackâ€™ ignored</p><p>assertion failed: pem_root_certs != nullptr</p></blockquote><a id="more"></a><ul><li><p>è§£å†³åŠæ³•</p><p>æ‰¾åˆ°Pythonå®‰è£…è·¯å¾„ä¸‹çš„\Lib\site-packages\grpc_cython_credentials\roots.pem,</p><p>å¹¶æ‹·è´åˆ°æ‰“åŒ…åçš„exeæ–‡ä»¶ç›®å½•ä¸‹ã€‚</p></li></ul><ul><li><p>å‚è€ƒé“¾æ¥</p><blockquote><p><a href="https://github.com/grpc/grpc/issues/9223#issuecomment-412054216">https://github.com/grpc/grpc/issues/9223#issuecomment-412054216</a></p></blockquote></li></ul>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PyInstaller </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CentOS7å®‰è£…ä¸‰èŠ‚ç‚¹Hadoopé›†ç¾¤</title>
      <link href="2021/03/22/CentOS7%E5%AE%89%E8%A3%85%E4%B8%89%E8%8A%82%E7%82%B9Hadoop%E9%9B%86%E7%BE%A4/"/>
      <url>2021/03/22/CentOS7%E5%AE%89%E8%A3%85%E4%B8%89%E8%8A%82%E7%82%B9Hadoop%E9%9B%86%E7%BE%A4/</url>
      
        <content type="html"><![CDATA[<h4 id="ä¸€-æœåŠ¡å™¨é…ç½®"><a href="#ä¸€-æœåŠ¡å™¨é…ç½®" class="headerlink" title="ä¸€ æœåŠ¡å™¨é…ç½®"></a>ä¸€ æœåŠ¡å™¨é…ç½®</h4><ul><li><p>å…³é—­é˜²ç«å¢™</p><pre class=" language-shell"><code class="language-shell"># æŸ¥çœ‹çŠ¶æ€firewall-cmd --state# åœæ­¢é˜²ç«å¢™systemctl stop firewalld.service# ç¦æ­¢å¼€æœºè‡ªå¯åŠ¨systemctl disable firewalld.service</code></pre></li><li><p>å…³é—­selinux</p><pre class=" language-shell"><code class="language-shell">vi /etc/sysconfig/selinuxSELINUX=disabled</code></pre><a id="more"></a></li></ul><h4 id="äºŒ-ç½‘ç»œé…ç½®"><a href="#äºŒ-ç½‘ç»œé…ç½®" class="headerlink" title="äºŒ ç½‘ç»œé…ç½®"></a>äºŒ ç½‘ç»œé…ç½®</h4><ul><li><p>æ‰¾åˆ°å¾…é…ç½®ç½‘å¡</p><pre class=" language-shell"><code class="language-shell">cd /etc/sysconfig/network-scripts/ls# è¿™é‡Œé€‰æ‹©ifcfg-enp3s0vi ifcfg-enp3s0</code></pre></li><li><p>ä¿®æ”¹ä¸‹åˆ—é…ç½®</p><pre class=" language-shell"><code class="language-shell">BOOTPROTO=staticONBOOT=yesIPADDR=192.168.0.200GATEWAY=192.168.0.1DNS1=8.8.8.8</code></pre></li><li><p>ç½‘ç»œæµ‹è¯•</p><pre class=" language-shell"><code class="language-shell">service network restart# å±€åŸŸç½‘æµ‹è¯•ping 192.168.0.229# å¤–ç½‘æµ‹è¯•ping www.baidu.com</code></pre></li></ul><h4 id="ä¸‰-å®‰è£…Java"><a href="#ä¸‰-å®‰è£…Java" class="headerlink" title="ä¸‰ å®‰è£…Java"></a>ä¸‰ å®‰è£…Java</h4><ul><li><p>åˆ›å»ºå®‰è£…ç›®å½•</p><pre class=" language-shell"><code class="language-shell">cd /home/whrmkdir javacd java</code></pre></li><li><p>å®‰è£…wget</p><pre class=" language-shell"><code class="language-shell">yum -y install wget</code></pre></li></ul><ul><li><p>ä¸‹è½½è§£å‹</p><p>ä½¿ç”¨wgetä¸‹è½½æˆ–é€šè¿‡å®˜ç½‘ä¸‹è½½åï¼Œä½¿ç”¨WinSCPä¼ åˆ° /home/whr/java ç›®å½•ä¸‹</p><pre class=" language-shell"><code class="language-shell">cd /home/whr/javatar -zxvf jdk-8u281-linux-x64.tar.gz</code></pre></li><li><p>è®¾ç½®ç¯å¢ƒå˜é‡</p><pre class=" language-shell"><code class="language-shell">vi /etc/profile# æœ«å°¾æ·»åŠ export JAVA_HOME=/home/whr/java/jdk1.8.0_281export JRE_HOME=$&#123;JAVA_HOME&#125;/jreexport CLASSPATH=.:$&#123;JAVA_HOME&#125;/lib:$&#123;JRE_HOME&#125;/libexport PATH=$&#123;JAVA_HOME&#125;/bin:$PATH# æ¿€æ´»ç¯å¢ƒå˜é‡source /etc/profile</code></pre></li><li><p>æ·»åŠ è½¯é“¾æ¥</p><pre class=" language-shell"><code class="language-shell">ln -s /home/whr/java/jdk1.8.0_281/bin/java /usr/bin/java</code></pre></li><li><p>å®‰è£…å®Œæˆ</p><pre class=" language-shell"><code class="language-shell">java -version</code></pre></li></ul><h4 id="å››-é…ç½®hosts"><a href="#å››-é…ç½®hosts" class="headerlink" title="å›› é…ç½®hosts"></a>å›› é…ç½®hosts</h4><ul><li><p>èŠ‚ç‚¹è§„åˆ’</p><table><thead><tr><th>IP</th><th>NodeType</th><th>Name</th></tr></thead><tbody><tr><td>192.168.0.200</td><td>DataNode</td><td>slave1</td></tr><tr><td>192.168.0.201</td><td>DataNode</td><td>slave2</td></tr><tr><td>192.168.0.202</td><td>NameNode / DataNode</td><td>master</td></tr></tbody></table></li><li><p>hosts é…ç½®</p><pre class=" language-shell"><code class="language-shell">vi /etc/hosts# é…ç½®å¦‚ä¸‹127.0.0.1   localhost192.168.0.200 slave1192.168.0.201 slave2192.168.0.202 master</code></pre></li></ul><h4 id="äº”-é…ç½®SSHï¼ˆä¸»èŠ‚ç‚¹ï¼‰"><a href="#äº”-é…ç½®SSHï¼ˆä¸»èŠ‚ç‚¹ï¼‰" class="headerlink" title="äº” é…ç½®SSHï¼ˆä¸»èŠ‚ç‚¹ï¼‰"></a>äº” é…ç½®SSHï¼ˆä¸»èŠ‚ç‚¹ï¼‰</h4><ul><li><p>ä¿®æ”¹é…ç½®æ–‡ä»¶</p><pre class=" language-shell"><code class="language-shell">vi /etc/ssh/sshd_configAuthorizedKeysFile      .ssh/authorized_keysPubkeyAuthentication yes</code></pre></li><li><p>ç”Ÿæˆç§˜é’¥</p><pre class=" language-shell"><code class="language-shell">ssh-keygen -t dsa -P '' -f ~/.ssh/id_dsa</code></pre></li></ul><ul><li><p>åˆ†å‘å…¬é’¥</p><pre class=" language-shell"><code class="language-shell">ssh-copy-id -i ~/.ssh/id_dsa.pub masterssh-copy-id -i ~/.ssh/id_dsa.pub slave1ssh-copy-id -i ~/.ssh/id_dsa.pub slave2# éªŒè¯ssh masterssh slave1ssh slave2</code></pre></li></ul><h4 id="å…­-å®‰è£…Hadoopï¼ˆä¸»èŠ‚ç‚¹ï¼‰"><a href="#å…­-å®‰è£…Hadoopï¼ˆä¸»èŠ‚ç‚¹ï¼‰" class="headerlink" title="å…­ å®‰è£…Hadoopï¼ˆä¸»èŠ‚ç‚¹ï¼‰"></a>å…­ å®‰è£…Hadoopï¼ˆä¸»èŠ‚ç‚¹ï¼‰</h4><ul><li><p>ä¸‹è½½</p><pre class=" language-shell"><code class="language-shell">cd /home/whrmkdir hadoopcd hadoopwget https://mirrors.tuna.tsinghua.edu.cn/apache/hadoop/common/hadoop-3.2.1/hadoop-3.2.1.tar.gz# æˆ–æœ¬åœ°ä¸‹è½½ä½¿ç”¨WinSCPä¼ é€</code></pre></li><li><p>å®‰è£…</p><pre class=" language-shell"><code class="language-shell">tar zxvf hadoop-3.2.1.tar.gz# åˆ›å»ºè½¯é“¾æ¥ln -s /home/whr/hadoop/hadoop-3.2.1  /usr/local/hadoop</code></pre></li><li><p>é…ç½®Hadoopç¯å¢ƒå˜é‡</p><pre class=" language-shell"><code class="language-shell">vi /etc/profile# æœ«å°¾æ·»åŠ export HADOOP_HOME=/home/whr/hadoop/hadoop-3.2.1export PATH=$&#123;HADOOP_HOME&#125;/bin:$PATHsource /etc/profile</code></pre></li><li><p>ä¿®æ”¹é…ç½®æ–‡ä»¶</p><pre class=" language-shell"><code class="language-shell">cd /usr/local/hadoop/etc/hadoop</code></pre><ul><li><p>é…ç½®hadoop-env.sh</p><pre class=" language-shell"><code class="language-shell">vi hadoop-env.shexport JAVA_HOME=/home/whr/java/jdk1.8.0_281</code></pre></li><li><p>é…ç½®core-site.xml</p><pre class=" language-shell"><code class="language-shell">vi core-site.xml<configuration>    <property>      <name>hadoop.tmp.dir</name>   <value>/home/whr/hadoop/tmp</value>   <description>Abase for other temporary directories.</description>    </property>    <property>      <name>fs.default.name</name>      <value>hdfs://master:9000</value>    </property></configuration></code></pre></li><li><p>é…ç½®hdfs-site.xml</p><pre class=" language-shell"><code class="language-shell">vi hdfs-site.xml<configuration>    <property>      <name>dfs.namenode.name.dir</name>      <value>/home/whr/hadoop/dfs/name</value>    </property>    <property>      <name>dfs.datanode.data.dir</name>      <value>/home/whr/hadoop/dfs/data</value>    </property></configuration></code></pre></li><li><p>é…ç½®yarn-site.xml</p><pre class=" language-shell"><code class="language-shell">vi yarn-site.xml<configuration>    <property>      <name>yarn.nodemanager.aux-services</name>      <value>mapreduce_shuffle</value>    </property>    <property>      <name>yarn.nodemanager.aux-services.mapreduce_shuffle.class</name>      <value>org.apache.hadoop.mapred.ShuffleHandler</value>    </property>    <property>      <name>yarn.resourcemanager.hostname</name>      <value>master</value>    </property></configuration></code></pre></li><li><p>é…ç½®mapred-site.xml</p><pre class=" language-shell"><code class="language-shell">vi mapred-site.xml<configuration>    <property>      <name>mapred.job.tracker</name>      <value>master:49001</value>    </property>    <property>      <name>mapred.local.dir</name>      <value>/home/whr/hadoop/var</value>    </property>    <property>      <name>mapreduce.framework.name</name>      <value>yarn</value>    </property></configuration></code></pre></li><li><p>é…ç½®workers</p><pre class=" language-shell"><code class="language-shell">vi workersmasterslave1slave2</code></pre></li><li><p>ä¿®æ”¹hdfså¯åŠ¨å’Œåœæ­¢è„šæœ¬</p><pre class=" language-shell"><code class="language-shell">cd /usr/local/hadoop/sbinvi start-dfs.shvi stop-dfs.sh# åœ¨æœ€å‰é¢åŠ å¦‚ä¸‹å†…å®¹HDFS_DATANODE_USER=rootHADOOP_SECURE_DN_USER=rootHDFS_NAMENODE_USER=rootHDFS_SECONDARYNAMENODE_USER=root</code></pre></li><li><p>ä¿®æ”¹yarnå¯åŠ¨å’Œåœæ­¢è„šæœ¬</p><pre class=" language-shell"><code class="language-shell">cd /usr/local/hadoop/sbinvi start-yarn.shvi stop-yarn.sh# åœ¨æ–‡ä»¶å‰æ·»åŠ å¦‚ä¸‹å†…å®¹YARN_RESOURCEMANAGER_USER=rootHADOOP_SECURE_DN_USER=rootYARN_NODEMANAGER_USER=root</code></pre></li></ul></li><li><p>ä»èŠ‚ç‚¹é…ç½®Hadoop</p><pre class=" language-shell"><code class="language-shell"># å°†é…ç½®å¥½çš„Hadoopå¤åˆ¶åˆ°ä»èŠ‚ç‚¹scp -r /home/whr/hadoop/hadoop-3.2.1 root@192.168.0.201:/home/whr/hadoop/# è®¾ç½®è½¯é“¾æ¥ssh slave1ln -s /home/whr/hadoop/hadoop-3.2.1  /usr/local/hadoopexitssh slave2ln -s /home/whr/hadoop/hadoop-3.2.1  /usr/local/hadoopexit</code></pre></li></ul><h4 id="ä¸ƒ-å¯åŠ¨æµ‹è¯•"><a href="#ä¸ƒ-å¯åŠ¨æµ‹è¯•" class="headerlink" title="ä¸ƒ å¯åŠ¨æµ‹è¯•"></a>ä¸ƒ å¯åŠ¨æµ‹è¯•</h4><ul><li><p>æ ¼å¼åŒ–namenode</p><pre class=" language-shell"><code class="language-shell">hdfs namenode -format# é‡æ–°æ ¼å¼åŒ–éœ€è¦åˆ é™¤tmpå’Œdfsæ–‡ä»¶å¤¹</code></pre></li><li><p>å¯åŠ¨hdfs</p><pre class=" language-shell"><code class="language-shell">cd /usr/local/hadoop/sbinbash start-all.sh</code></pre></li><li><p>å¯åŠ¨yarn</p><pre class=" language-shell"><code class="language-shell">bash start-all.sh</code></pre></li><li><p>éªŒè¯</p><pre class=" language-shell"><code class="language-shell">jps4800 NodeManager4002 NameNode4387 SecondaryNameNode4666 ResourceManager13355 Jps4126 DataNode</code></pre></li></ul><h1 id="å®¢æˆ·ç«¯è®¿é—®"><a href="#å®¢æˆ·ç«¯è®¿é—®" class="headerlink" title="å®¢æˆ·ç«¯è®¿é—®"></a>å®¢æˆ·ç«¯è®¿é—®</h1><p>  <a href="http://192.168.0.202:9870/">http://192.168.0.202:9870/</a><br>  <a href="http://192.168.0.202:8088/">http://192.168.0.202:8088/</a></p><pre><code></code></pre>]]></content>
      
      
      <categories>
          
          <category> å¤§æ•°æ® </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Pyinstalleræ‰“åŒ…é…ç½®æ–‡ä»¶</title>
      <link href="2021/03/05/Pyinstaller%20%E6%89%93%E5%8C%85%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E5%A4%B9/"/>
      <url>2021/03/05/Pyinstaller%20%E6%89%93%E5%8C%85%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E5%A4%B9/</url>
      
        <content type="html"><![CDATA[<p>Pyinstaller æ‰“åŒ…é…ç½®æ–‡ä»¶å¤¹</p><a id="more"></a><ol><li><p>ç”Ÿæˆèµ„æºæ–‡ä»¶ç›®å½•è®¿é—®è·¯å¾„</p><pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> os<span class="token keyword">import</span> sys<span class="token keyword">def</span> <span class="token function">resource_path</span><span class="token punctuation">(</span>relative_path<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> getattr<span class="token punctuation">(</span>sys<span class="token punctuation">,</span> <span class="token string">'frozen'</span><span class="token punctuation">,</span> <span class="token boolean">False</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        base_path <span class="token operator">=</span> sys<span class="token punctuation">.</span>_MEIPASS    <span class="token keyword">else</span><span class="token punctuation">:</span>        base_path <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>abspath<span class="token punctuation">(</span><span class="token string">"."</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>base_path<span class="token punctuation">,</span> relative_path<span class="token punctuation">)</span></code></pre></li><li><p>ä¿®æ”¹éœ€è¦è¯»å–è·¯å¾„çš„æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹</p><pre class=" language-python"><code class="language-python">resource_path<span class="token punctuation">(</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token string">"config"</span><span class="token punctuation">,</span> <span class="token string">"data.txt"</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre></li><li><p>æ‰“åŒ…pyæ–‡ä»¶ç”Ÿæˆ.specæ–‡ä»¶</p><pre class=" language-powershell"><code class="language-powershell">pyinstaller <span class="token operator">-</span>F QueryGui<span class="token punctuation">.</span>py</code></pre></li><li><p>ä¿®æ”¹.specæ–‡ä»¶ä¸­datasé¡¹ï¼Œæ·»åŠ é…ç½®æ–‡ä»¶ç›®å½•å’Œå¾…ç”Ÿæˆçš„æ–‡ä»¶å¤¹å</p><pre class=" language-python"><code class="language-python">a <span class="token operator">=</span> Analysis<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">''</span><span class="token punctuation">]</span><span class="token punctuation">,</span>             pathex<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">''</span><span class="token punctuation">]</span><span class="token punctuation">,</span>             binaries<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>             datas<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token string">'config'</span><span class="token punctuation">,</span> <span class="token string">'config'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span></code></pre></li><li><p>åˆ é™¤buildå’Œdistæ–‡ä»¶å¤¹ï¼Œé‡æ–°ç”Ÿæˆæ‰“åŒ…æ–‡ä»¶</p><pre><code>pyinstaller -F QueryGui.spec</code></pre></li></ol>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Seleniumè·å–è¯·æ±‚ä¿¡æ¯</title>
      <link href="2021/01/26/Selenium%E8%8E%B7%E5%8F%96%E8%AF%B7%E6%B1%82%E4%BF%A1%E6%81%AF/"/>
      <url>2021/01/26/Selenium%E8%8E%B7%E5%8F%96%E8%AF%B7%E6%B1%82%E4%BF%A1%E6%81%AF/</url>
      
        <content type="html"><![CDATA[<h4 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h4><p>â€‹    åœ¨è·å–facebook analyticsæ•°æ®æ—¶ï¼ŒæŠ“å–åˆ°çš„è¯·æ±‚éœ€è¦æºå¸¦tokenï¼Œä¸”å…·æœ‰æ—¶æ•ˆæ€§ã€‚</p><a id="more"></a><h4 id="è§£å†³åŠæ³•"><a href="#è§£å†³åŠæ³•" class="headerlink" title="è§£å†³åŠæ³•"></a>è§£å†³åŠæ³•</h4><ol><li>JSé€†å‘åˆ†ætokenç”Ÿæˆè¿‡ç¨‹åŠé€»è¾‘ï¼ˆéš¾åº¦è¾ƒå¤§ï¼Œå°è¯•æ— æœåæ”¾å¼ƒï¼‰</li><li>ä½¿ç”¨seleniumæ¨¡æ‹Ÿè¯·æ±‚ï¼Œå°†è¿‡ç¨‹äº¤ç»™æµè§ˆå™¨ï¼Œåªéœ€è¦è·å–ç»“æœ</li></ol><h4 id="å®ç°ä»£ç "><a href="#å®ç°ä»£ç " class="headerlink" title="å®ç°ä»£ç "></a>å®ç°ä»£ç </h4><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> time <span class="token keyword">import</span> sleep<span class="token keyword">from</span> selenium <span class="token keyword">import</span> webdriveroption <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>ChromeOptions<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># ä½¿ç”¨æœ¬åœ°cookie, è¿è¡Œæ—¶éœ€å…³é—­å·²æ‰“å¼€çš„æµè§ˆå™¨</span>option<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span>r<span class="token string">'--user-data-dir=C:\...\User Data'</span><span class="token punctuation">)</span>option<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span><span class="token string">'--profile-directory=Default'</span><span class="token punctuation">)</span>browser <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>Chrome<span class="token punctuation">(</span>options<span class="token operator">=</span>option<span class="token punctuation">)</span>browser<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"https://www.facebook.com/analytics/"</span><span class="token punctuation">)</span>sleep<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># è·å–seleniumæ‰§è¡Œäº†é‚£äº›è¯·æ±‚çš„å…³é”®</span>test <span class="token operator">=</span> browser<span class="token punctuation">.</span>execute_script<span class="token punctuation">(</span><span class="token string">"var performance = window.performance || window.mozPerformance || window.msPerformance || window.webkitPerformance || &amp;#123;&amp;#125;; var network = performance.getEntries() || &amp;#123;&amp;#125;; return network;"</span><span class="token punctuation">)</span>access_token <span class="token operator">=</span> <span class="token string">""</span><span class="token keyword">for</span> item <span class="token keyword">in</span> test<span class="token punctuation">:</span>  <span class="token keyword">if</span> <span class="token string">"access_token"</span> <span class="token keyword">in</span> item<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">:</span>    access_token <span class="token operator">=</span> item<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">"="</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span>access_token<span class="token punctuation">)</span>browser<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> çˆ¬è™« </category>
          
      </categories>
      
      
        <tags>
            
            <tag> selenium </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¹¶æŸ¥é›†åŠPythonå®ç°</title>
      <link href="2021/01/18/%E5%B9%B6%E6%9F%A5%E9%9B%86%E5%8F%8APython%E5%AE%9E%E7%8E%B0/"/>
      <url>2021/01/18/%E5%B9%B6%E6%9F%A5%E9%9B%86%E5%8F%8APython%E5%AE%9E%E7%8E%B0/</url>
      
        <content type="html"><![CDATA[<blockquote><p>å¹¶æŸ¥é›†ï¼šåœ¨è®¡ç®—æœºç§‘å­¦ä¸­ï¼Œ<strong>å¹¶æŸ¥é›†</strong>æ˜¯ä¸€ç§æ ‘å‹çš„<strong>æ•°æ®ç»“æ„</strong>ï¼Œç”¨äºå¤„ç†ä¸€äº›<strong>ä¸äº¤é›†</strong>ï¼ˆDisjoint Setsï¼‰çš„åˆå¹¶åŠæŸ¥è¯¢é—®é¢˜ã€‚   â€”wiki</p></blockquote><a id="more"></a><h4 id="å®šä¹‰"><a href="#å®šä¹‰" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h4><p>â€‹    å¹¶æŸ¥é›†ï¼Œé¡¾åæ€ä¹‰ï¼ŒåŒ…å«äº†<strong>åˆå¹¶</strong>å’Œ<strong>æŸ¥è¯¢</strong>æ“ä½œï¼Œç”¨äºè§£å†³åŠ¨æ€è¿é€šæ€§é—®é¢˜ã€‚</p><h4 id="å®ç°è¿‡ç¨‹"><a href="#å®ç°è¿‡ç¨‹" class="headerlink" title="å®ç°è¿‡ç¨‹"></a>å®ç°è¿‡ç¨‹</h4><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># ä¸»ä½“æ¡†æ¶</span><span class="token keyword">class</span> <span class="token class-name">UnionFind</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment" spellcheck="true"># åˆå§‹åŒ–</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">pass</span>    <span class="token comment" spellcheck="true"># æŸ¥è¯¢æ ¹èŠ‚ç‚¹</span>    <span class="token keyword">def</span> <span class="token function">find</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">pass</span>    <span class="token comment" spellcheck="true"># åˆå¹¶èŠ‚ç‚¹</span>    <span class="token keyword">def</span> <span class="token function">union</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">pass</span>    <span class="token comment" spellcheck="true"># åˆ¤æ–­ä¸¤ä¸ªèŠ‚ç‚¹æ˜¯å¦è¿é€š</span>    <span class="token keyword">def</span> <span class="token function">is_same_set</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">pass</span></code></pre><ul><li><p>åˆå§‹åŒ–</p><p>å°†æ‰€æœ‰èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹è®¾ä¸ºNone</p><pre class=" language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> M<span class="token punctuation">)</span><span class="token punctuation">:</span>    self<span class="token punctuation">.</span>father_dict <span class="token operator">=</span> <span class="token operator">&amp;</span><span class="token comment" spellcheck="true">#123;&amp;#125;</span>    <span class="token comment" spellcheck="true"># è®°å½•é›†åˆçš„æ•°é‡ï¼Œä¸€èˆ¬ä¸ºè¿”å›å€¼</span>    self<span class="token punctuation">.</span>nums_set <span class="token operator">=</span> <span class="token number">0</span>    <span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span>len<span class="token punctuation">(</span>M<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> i <span class="token operator">not</span> <span class="token keyword">in</span> self<span class="token punctuation">.</span>father_dict<span class="token punctuation">:</span>            self<span class="token punctuation">.</span>father_dict<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> None            <span class="token comment" spellcheck="true"># é›†åˆçš„æ•°é‡+1</span>            self<span class="token punctuation">.</span>nums_set <span class="token operator">+=</span> <span class="token number">1</span></code></pre></li><li><p>æŸ¥è¯¢</p><pre class=" language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">find</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">:</span>    root <span class="token operator">=</span> x    <span class="token keyword">while</span> self<span class="token punctuation">.</span>father_dict<span class="token punctuation">[</span>root<span class="token punctuation">]</span> <span class="token operator">!=</span> None<span class="token punctuation">:</span>        root <span class="token operator">=</span> self<span class="token punctuation">.</span>father_dict<span class="token punctuation">[</span>root<span class="token punctuation">]</span>    <span class="token comment" spellcheck="true"># è·¯å¾„å‹ç¼©</span>    <span class="token keyword">while</span> x <span class="token operator">!=</span> root<span class="token punctuation">:</span>        cur_father <span class="token operator">=</span> self<span class="token punctuation">.</span>father_dict<span class="token punctuation">[</span>x<span class="token punctuation">]</span>        self<span class="token punctuation">.</span>father_dict<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">=</span> root        x <span class="token operator">=</span> cur_father    <span class="token keyword">return</span> root</code></pre></li><li><p>åˆå¹¶</p><pre class=" language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">union</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">:</span>    a_root<span class="token punctuation">,</span> b_root <span class="token operator">=</span> self<span class="token punctuation">.</span>find<span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>find<span class="token punctuation">(</span>b<span class="token punctuation">)</span>    <span class="token comment" spellcheck="true"># ä»»æ„æŒ‡å®šä¸€ä¸ªèŠ‚ç‚¹ä¸ºçˆ¶èŠ‚ç‚¹</span>    <span class="token keyword">if</span> a_root <span class="token operator">!=</span> b_root<span class="token punctuation">:</span>        self<span class="token punctuation">.</span>father_dict<span class="token punctuation">[</span>a_root<span class="token punctuation">]</span> <span class="token operator">=</span> b_root        self<span class="token punctuation">.</span>nums_set <span class="token operator">-=</span> <span class="token number">1</span></code></pre></li><li><p>åˆ¤æ–­æ˜¯å¦åœ¨åŒä¸€é›†åˆ</p><pre class=" language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">is_same_set</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">return</span> self<span class="token punctuation">.</span>find<span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token operator">==</span> self<span class="token punctuation">.</span>find<span class="token punctuation">(</span>b<span class="token punctuation">)</span></code></pre></li></ul>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®ç»“æ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¹¶æŸ¥é›† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>pandasæµ…æ</title>
      <link href="2021/01/07/pandas%E6%80%BB%E7%BB%93/"/>
      <url>2021/01/07/pandas%E6%80%BB%E7%BB%93/</url>
      
        <content type="html"><![CDATA[<h4 id="åˆ›å»ºDataFrame"><a href="#åˆ›å»ºDataFrame" class="headerlink" title="åˆ›å»ºDataFrame"></a>åˆ›å»ºDataFrame</h4><p>â€‹    <a id="more"></a></p><pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd</code></pre><ol><li><p>è¯»å–csvæ–‡ä»¶å¹¶è½¬ä¸ºDataFrame</p><pre class=" language-Python"><code class="language-Python">csv_data = pd.read_csv("test_data.csv", encoding = "ISO-8859-1")</code></pre></li></ol><ol start="2"><li><p>å­—å…¸è½¬ä¸ºDataFrame</p><pre class=" language-Python"><code class="language-Python">d = &#123;'col1': [1, 2], 'col2': [3, 4]&#125;df = pd.DataFrame(data=d)</code></pre><table><thead><tr><th align="right"></th><th align="right">col1</th><th align="right"><strong>col2</strong></th></tr></thead><tbody><tr><td align="right">0</td><td align="right">1</td><td align="right">3</td></tr><tr><td align="right">1</td><td align="right">2</td><td align="right">4</td></tr></tbody></table></li><li><p>åŒå±‚åˆ—è¡¨è½¬ä¸ºDataFrame</p><pre class=" language-Python"><code class="language-Python">data = [['tom', 10], ['nick', 15], ['juli', 14]] # Create the pandas DataFrame df = pd.DataFrame(data, columns = ['Name', 'Age']) </code></pre><table><thead><tr><th align="right"></th><th align="right">Name</th><th align="right">Age</th></tr></thead><tbody><tr><td align="right">0</td><td align="right">tom</td><td align="right">10</td></tr><tr><td align="right">1</td><td align="right">nick</td><td align="right">15</td></tr><tr><td align="right">2</td><td align="right">juli</td><td align="right">14</td></tr></tbody></table></li><li><p>åˆ—è¡¨å­—å…¸è½¬DataFrame</p><pre class=" language-Python"><code class="language-Python">data = [&#123;'a': 1, 'b': 2, 'c':3&#125;,         &#123;'a':10, 'b': 20, 'c': 30&#125;] # Creates DataFrame. df = pd.DataFrame(data) </code></pre><table><thead><tr><th align="right"></th><th align="right">a</th><th align="right">b</th><th align="right">c</th></tr></thead><tbody><tr><td align="right">0</td><td align="right">1</td><td align="right">2</td><td align="right">3</td></tr><tr><td align="right">1</td><td align="right">10</td><td align="right">20</td><td align="right">30</td></tr></tbody></table></li><li><p>æŒ‡å®šindex</p><pre class=" language-python"><code class="language-python">df <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span>data<span class="token punctuation">,</span> index <span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'rank1'</span><span class="token punctuation">,</span>                                 <span class="token string">'rank2'</span><span class="token punctuation">,</span>                                 <span class="token string">'rank3'</span><span class="token punctuation">,</span>                                 <span class="token string">'rank4'</span><span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre></li></ol><h4 id="ä¿®æ”¹DataFrameå€¼"><a href="#ä¿®æ”¹DataFrameå€¼" class="headerlink" title="ä¿®æ”¹DataFrameå€¼"></a>ä¿®æ”¹DataFrameå€¼</h4><ol><li><p>ä¿®æ”¹ä¸€åˆ—çš„å€¼</p><pre class=" language-Python"><code class="language-Python">df["data"] = df["data"].map(lambda x: 0)</code></pre></li><li><p>ä¿®æ”¹å¤šåˆ—çš„å€¼</p><pre class=" language-python"><code class="language-python"><span class="token keyword">for</span> index<span class="token punctuation">,</span> row <span class="token keyword">in</span> df_res<span class="token punctuation">.</span>iterrows<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    df_res<span class="token punctuation">.</span>at<span class="token punctuation">[</span>index<span class="token punctuation">,</span> <span class="token string">'data1'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span>    df_res<span class="token punctuation">.</span>at<span class="token punctuation">[</span>index<span class="token punctuation">,</span> <span class="token string">'data2'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span></code></pre></li></ol><h4 id="ç±»å‹è½¬æ¢"><a href="#ç±»å‹è½¬æ¢" class="headerlink" title="ç±»å‹è½¬æ¢"></a>ç±»å‹è½¬æ¢</h4><ol><li><p>æ•´ä½“è½¬ä¸ºstr</p><pre class=" language-Python"><code class="language-Python">df = df.astype(str)</code></pre></li><li><p>æ•´ä½“è½¬ä¸ºint</p><pre class=" language-python"><code class="language-python">df <span class="token operator">=</span> df<span class="token punctuation">.</span>astype<span class="token punctuation">(</span>int<span class="token punctuation">)</span></code></pre></li></ol>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> pandas </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pythonè£…é¥°å™¨å®ç°æ—¥å¿—è¾“å‡º</title>
      <link href="2020/11/20/Python%E8%A3%85%E9%A5%B0%E5%99%A8%E5%AE%9E%E7%8E%B0%E6%97%A5%E5%BF%97%E8%BE%93%E5%87%BA/"/>
      <url>2020/11/20/Python%E8%A3%85%E9%A5%B0%E5%99%A8%E5%AE%9E%E7%8E%B0%E6%97%A5%E5%BF%97%E8%BE%93%E5%87%BA/</url>
      
        <content type="html"><![CDATA[<pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># -*- coding: utf-8 -*-</span><span class="token comment" spellcheck="true"># @Time    : 2020/11/20 11:33</span><span class="token comment" spellcheck="true"># @Author  : Wanghairui</span><span class="token comment" spellcheck="true"># @function:</span><span class="token keyword">from</span> functools <span class="token keyword">import</span> wraps<span class="token keyword">import</span> logging<span class="token keyword">def</span> <span class="token function">_create_logger</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    logger <span class="token operator">=</span> logging<span class="token punctuation">.</span>getLogger<span class="token punctuation">(</span><span class="token string">'LogError'</span><span class="token punctuation">)</span>    logger<span class="token punctuation">.</span>setLevel<span class="token punctuation">(</span>logging<span class="token punctuation">.</span>ERROR<span class="token punctuation">)</span>    file_handler <span class="token operator">=</span> logging<span class="token punctuation">.</span>FileHandler<span class="token punctuation">(</span>r<span class="token string">'./MJlogs.log'</span><span class="token punctuation">)</span>    log_format <span class="token operator">=</span> <span class="token string">'%(levelname)s %(asctime)s %(message)s'</span>    formatter <span class="token operator">=</span> logging<span class="token punctuation">.</span>Formatter<span class="token punctuation">(</span>log_format<span class="token punctuation">)</span>    file_handler<span class="token punctuation">.</span>setFormatter<span class="token punctuation">(</span>formatter<span class="token punctuation">)</span>    logger<span class="token punctuation">.</span>addHandler<span class="token punctuation">(</span>file_handler<span class="token punctuation">)</span>    <span class="token keyword">return</span> logger<span class="token keyword">def</span> <span class="token function">logged</span><span class="token punctuation">(</span>func<span class="token punctuation">)</span><span class="token punctuation">:</span>    @wraps<span class="token punctuation">(</span>func<span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">do_logging</span><span class="token punctuation">(</span><span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">try</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> func<span class="token punctuation">(</span><span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span>        <span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span>            logger <span class="token operator">=</span> _create_logger<span class="token punctuation">(</span><span class="token punctuation">)</span>            error_msg <span class="token operator">=</span> <span class="token string">'And error has occurred at /'</span> <span class="token operator">+</span> func<span class="token punctuation">.</span>__name__ <span class="token operator">+</span> <span class="token string">'\n'</span>            logger<span class="token punctuation">.</span>exception<span class="token punctuation">(</span>error_msg<span class="token punctuation">)</span>            <span class="token keyword">return</span> e    <span class="token keyword">return</span> do_logging</code></pre>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Pythonè™šæ‹Ÿç¯å¢ƒé…ç½®</title>
      <link href="2020/11/16/Python%E4%BD%BF%E7%94%A8Virtualenv%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83/"/>
      <url>2020/11/16/Python%E4%BD%BF%E7%94%A8Virtualenv%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83/</url>
      
        <content type="html"><![CDATA[<a id="more"></a><ol><li><p>å®‰è£… virtualenv</p><pre class=" language-shell"><code class="language-shell">pip install virtualenv</code></pre></li><li><p>åˆ‡æ¢åˆ°é¡¹ç›®ç›®å½•ä¸‹ï¼Œåˆ›å»ºè™šæ‹Ÿç¯å¢ƒ</p><pre class=" language-shell"><code class="language-shell">Windows: virtualenv -p python venvlinux: sudo virtualenv -p python3 venv</code></pre></li><li><p>æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ</p><pre class=" language-shell"><code class="language-shell"># windowscd venv/Scriptsactivate# linuxsource venv/bin/activate</code></pre></li><li><p>ç”Ÿæˆrequirementæ–‡ä»¶</p><pre class=" language-shell"><code class="language-shell">pip freeze > requirements.txt</code></pre></li><li><p>å®‰è£…requirements.txtæ‰€éœ€çš„æ¨¡å—</p><pre class=" language-shell"><code class="language-shell">pip install -r requirements.txt</code></pre></li><li><p>é€€å‡ºè™šæ‹Ÿç¯å¢ƒ</p><pre class=" language-shell"><code class="language-shell">deactivate</code></pre></li></ol>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Pythonç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡å‹</title>
      <link href="2020/11/06/Python%20%E7%94%9F%E4%BA%A7%E8%80%85%E6%B6%88%E8%B4%B9%E8%80%85%E6%A8%A1%E5%9E%8B/"/>
      <url>2020/11/06/Python%20%E7%94%9F%E4%BA%A7%E8%80%85%E6%B6%88%E8%B4%B9%E8%80%85%E6%A8%A1%E5%9E%8B/</url>
      
        <content type="html"><![CDATA[<a id="more"></a><pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> time<span class="token keyword">import</span> queue<span class="token keyword">import</span> threading<span class="token keyword">class</span> <span class="token class-name">ThreadProductorConsumer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment" spellcheck="true"># åˆå§‹åŒ–æ¨¡å‹</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment" spellcheck="true"># å¤§å°ä¸º15çš„ç¼“å†²æ± ï¼Œç”¨äºå®¹çº³äº§å“</span>        self<span class="token punctuation">.</span>q <span class="token operator">=</span> queue<span class="token punctuation">.</span>Queue<span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>screen_lock <span class="token operator">=</span> threading<span class="token punctuation">.</span>Semaphore<span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">productor</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> product<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment" spellcheck="true"># ç”Ÿäº§è€…ä¸åœçš„æ¯3ç§’ç”Ÿäº§ä¸€ä¸ªäº§å“</span>        <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>            self<span class="token punctuation">.</span>q<span class="token punctuation">.</span>put<span class="token punctuation">(</span>product<span class="token punctuation">)</span>            cur_time <span class="token operator">=</span> time<span class="token punctuation">.</span>strftime<span class="token punctuation">(</span><span class="token string">'%Y-%m-%d %H:%M:%S'</span><span class="token punctuation">,</span> time<span class="token punctuation">.</span>localtime<span class="token punctuation">(</span>time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            cur_name <span class="token operator">=</span> threading<span class="token punctuation">.</span>current_thread<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>name            <span class="token comment" spellcheck="true"># printæ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„,éœ€è¦ä¿¡å·é‡ç¡®ä¿æ²¡æœ‰å†²çª</span>            self<span class="token punctuation">.</span>screen_lock<span class="token punctuation">.</span>acquire<span class="token punctuation">(</span><span class="token punctuation">)</span>            <span class="token keyword">print</span><span class="token punctuation">(</span>cur_time<span class="token operator">+</span><span class="token string">"  "</span> <span class="token operator">+</span> cur_name <span class="token operator">+</span> <span class="token string">" ç”Ÿäº§äº†ä¸€ä¸ªäº§å“"</span><span class="token punctuation">,</span> sep<span class="token operator">=</span><span class="token string">'\n'</span><span class="token punctuation">)</span>            self<span class="token punctuation">.</span>screen_lock<span class="token punctuation">.</span>release<span class="token punctuation">(</span><span class="token punctuation">)</span>            time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">consumer</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment" spellcheck="true"># æ¶ˆè´¹è€…ä¸åœçš„æ¯2ç§’æ¶ˆè´¹ä¸€ä¸ªäº§å“</span>        <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>            self<span class="token punctuation">.</span>q<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span>            cur_time <span class="token operator">=</span> time<span class="token punctuation">.</span>strftime<span class="token punctuation">(</span><span class="token string">'%Y-%m-%d %H:%M:%S'</span><span class="token punctuation">,</span> time<span class="token punctuation">.</span>localtime<span class="token punctuation">(</span>time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            cur_name <span class="token operator">=</span> threading<span class="token punctuation">.</span>current_thread<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>name            self<span class="token punctuation">.</span>screen_lock<span class="token punctuation">.</span>acquire<span class="token punctuation">(</span><span class="token punctuation">)</span>            <span class="token keyword">print</span><span class="token punctuation">(</span>cur_time <span class="token operator">+</span> <span class="token string">"  "</span> <span class="token operator">+</span> cur_name <span class="token operator">+</span> <span class="token string">" æ¶ˆè´¹äº†ä¸€ä¸ªäº§å“"</span><span class="token punctuation">,</span> sep<span class="token operator">=</span><span class="token string">'\n'</span><span class="token punctuation">)</span>            self<span class="token punctuation">.</span>screen_lock<span class="token punctuation">.</span>release<span class="token punctuation">(</span><span class="token punctuation">)</span>            time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>    tpc <span class="token operator">=</span> ThreadProductorConsumer<span class="token punctuation">(</span><span class="token punctuation">)</span>    p <span class="token operator">=</span> <span class="token string">"product"</span>    <span class="token comment" spellcheck="true"># å®ä¾‹åŒ–äº†3ä¸ªç”Ÿäº§è€…</span>    <span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        t <span class="token operator">=</span> threading<span class="token punctuation">.</span>Thread<span class="token punctuation">(</span>target<span class="token operator">=</span>tpc<span class="token punctuation">.</span>productor<span class="token punctuation">,</span> args<span class="token operator">=</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        t<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true"># å®ä¾‹åŒ–äº†6ä¸ªæ¶ˆè´¹è€…</span>    <span class="token keyword">for</span> j <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        v <span class="token operator">=</span> threading<span class="token punctuation">.</span>Thread<span class="token punctuation">(</span>target<span class="token operator">=</span>tpc<span class="token punctuation">.</span>consumer<span class="token punctuation">)</span>        v<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¹¶å‘ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaScriptæµ…æ</title>
      <link href="2020/10/27/JavaScript%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
      <url>2020/10/27/JavaScript%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€ã€æ•°æ®ç±»å‹"><a href="#ä¸€ã€æ•°æ®ç±»å‹" class="headerlink" title="ä¸€ã€æ•°æ®ç±»å‹"></a>ä¸€ã€æ•°æ®ç±»å‹</h2><ul><li><p>Number :</p><ul><li>æ•´æ•°ï¼Œæµ®ç‚¹æ•°ï¼ŒNaNï¼ˆNot a Numberï¼‰,Infinityï¼ˆæ— é™å¤§ï¼‰</li><li>NaN ä¸ä»»ä½•å€¼éƒ½ä¸ç›¸åŒï¼ŒåŒ…æ‹¬è‡ªå·±ï¼Œå¯é€šè¿‡isNaN()å‡½æ•°åˆ¤æ–­NaN</li></ul></li></ul><a id="more"></a><ul><li><p><strong>å­—ç¬¦ä¸²</strong></p><ul><li><p>å¤šè¡Œå­—ç¬¦ä¸²ï¼š``</p></li><li><p>æ¨¡æ¿å­—ç¬¦ä¸²</p><pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">'å°æ˜'</span><span class="token punctuation">;</span><span class="token keyword">var</span> age <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span><span class="token keyword">var</span> message <span class="token operator">=</span> <span class="token template-string"><span class="token string">`ä½ å¥½, $&amp;#123;name&amp;#125;, ä½ ä»Šå¹´$&amp;#123;age&amp;#125;å²äº†!`</span></span><span class="token punctuation">;</span><span class="token function">alert</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li><p>å­—ç¬¦ä¸²æ“ä½œ</p><pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">var</span> s <span class="token operator">=</span> <span class="token string">'Hello, world!'</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// lengthè·å–é•¿åº¦</span>s<span class="token punctuation">.</span>length<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 13</span><span class="token comment" spellcheck="true">// è·å–æŒ‡å®šä½ç½®å­—ç¬¦</span>s<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 'H'</span><span class="token comment" spellcheck="true">// toUpperCase() å­—ç¬¦ä¸²å…¨è½¬ä¸ºå¤§å†™</span><span class="token comment" spellcheck="true">// toLowerCase() å­—ç¬¦ä¸²å…¨è½¬ä¸ºå°å†™</span><span class="token comment" spellcheck="true">// indexOf()æœç´¢æŒ‡å®šå­—ç¬¦ä¸²å‡ºç°çš„ä½ç½®</span>s<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'world'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// è¿”å›7</span><span class="token comment" spellcheck="true">//substring()è¿”å›æŒ‡å®šç´¢å¼•åŒºé—´çš„å­ä¸²</span>s<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ä»ç´¢å¼•0å¼€å§‹åˆ°5ï¼ˆä¸åŒ…æ‹¬5ï¼‰ï¼Œè¿”å›'hello'</span></code></pre></li><li><p>å­—ç¬¦ä¸²ä¸å¯å˜</p></li></ul></li><li><p>å¸ƒå°”å€¼</p></li><li><p>nullå’Œundefinedï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œä½¿ç”¨nullè€Œä¸æ˜¯undefined</p></li></ul><h2 id="äºŒã€è¿ç®—ç¬¦"><a href="#äºŒã€è¿ç®—ç¬¦" class="headerlink" title="äºŒã€è¿ç®—ç¬¦"></a>äºŒã€è¿ç®—ç¬¦</h2><ul><li><p>==ï¼šæ¯”è¾ƒæ—¶ä¼šè‡ªåŠ¨è½¬æ¢æ•°æ®ç±»å‹</p></li><li><p>===ï¼šåªæ¯”è¾ƒæ•°æ®ç±»å‹ä¸€è‡´çš„æ•°æ®</p></li></ul><h2 id="ä¸‰ã€æ•°ç»„"><a href="#ä¸‰ã€æ•°ç»„" class="headerlink" title="ä¸‰ã€æ•°ç»„"></a>ä¸‰ã€æ•°ç»„</h2><ul><li><p>åŒä¸€æ•°ç»„å¯ä»¥åŒ…å«ä¸åŒæ•°æ®ç±»å‹</p></li><li><p>æ•°ç»„æ“ä½œ</p><pre class=" language-javascript"><code class="language-javascript"><span class="token comment" spellcheck="true">//length è·å–æ•°ç»„çš„é•¿åº¦,ç»™lengthèµ‹å€¼å°†å¯¼è‡´æ•°ç»„é•¿åº¦å˜åŒ–</span><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3.14</span><span class="token punctuation">,</span> <span class="token string">'Hello'</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">]</span><span class="token punctuation">;</span>arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 6</span><span class="token comment" spellcheck="true">// indexOf æœç´¢ä¸€ä¸ªæŒ‡å®šçš„å…ƒç´ çš„ä½ç½®</span>arr<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 1</span><span class="token comment" spellcheck="true">//åˆ‡ç‰‡ slice æˆªå–æ•°ç»„çš„éƒ¨åˆ†å…ƒç´ ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„æ•°ç»„</span><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token string">'B'</span><span class="token punctuation">,</span> <span class="token string">'C'</span><span class="token punctuation">,</span> <span class="token string">'D'</span><span class="token punctuation">,</span> <span class="token string">'E'</span><span class="token punctuation">,</span> <span class="token string">'F'</span><span class="token punctuation">,</span> <span class="token string">'G'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>arr<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ä»ç´¢å¼•0å¼€å§‹ï¼Œåˆ°ç´¢å¼•3ç»“æŸï¼Œä½†ä¸åŒ…æ‹¬ç´¢å¼•3: ['A', 'B', 'C']</span>arr<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ä»ç´¢å¼•3å¼€å§‹åˆ°ç»“æŸ: ['D', 'E', 'F', 'G']</span><span class="token keyword">var</span> aCopy <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// å¤åˆ¶æ•°ç»„</span><span class="token comment" spellcheck="true">//push() å‘æ•°ç»„æ·»åŠ è‹¥å¹²å…ƒç´ </span><span class="token comment" spellcheck="true">//pop() åˆ é™¤æœ€åä¸€ä¸ªå…ƒç´ </span><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token string">'B'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// è¿”å›Arrayæ–°çš„é•¿åº¦: 4</span>arr<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// [1, 2, 'A', 'B']</span>arr<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// pop()è¿”å›'B'</span>arr<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// [1, 2, 'A']</span><span class="token comment" spellcheck="true">//unshift() å‘æ•°ç»„å¤´éƒ¨æ·»åŠ è‹¥å¹²å…ƒç´ </span><span class="token comment" spellcheck="true">// shift() åˆ é™¤æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ </span><span class="token comment" spellcheck="true">//sort() å¯¹æ•°ç»„è¿›è¡Œæ’åºï¼Œé»˜è®¤é¡ºåº</span><span class="token comment" spellcheck="true">//reverse() åè½¬æ•°ç»„</span><span class="token comment" spellcheck="true">//splice()ä»æŒ‡å®šçš„ç´¢å¼•å¼€å§‹åˆ é™¤è‹¥å¹²å…ƒç´ ï¼Œç„¶åå†ä»è¯¥ä½ç½®æ·»åŠ è‹¥å¹²å…ƒç´ </span><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Microsoft'</span><span class="token punctuation">,</span> <span class="token string">'Apple'</span><span class="token punctuation">,</span> <span class="token string">'Yahoo'</span><span class="token punctuation">,</span> <span class="token string">'AOL'</span><span class="token punctuation">,</span> <span class="token string">'Excite'</span><span class="token punctuation">,</span> <span class="token string">'Oracle'</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// ä»ç´¢å¼•2å¼€å§‹åˆ é™¤3ä¸ªå…ƒç´ ,ç„¶åå†æ·»åŠ ä¸¤ä¸ªå…ƒç´ :</span>arr<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">'Google'</span><span class="token punctuation">,</span> <span class="token string">'Facebook'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// è¿”å›åˆ é™¤çš„å…ƒç´  ['Yahoo', 'AOL', 'Excite']</span>arr<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ['Microsoft', 'Apple', 'Google', 'Facebook', 'Oracle']</span><span class="token comment" spellcheck="true">// åªåˆ é™¤,ä¸æ·»åŠ :</span>arr<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ['Google', 'Facebook']</span>arr<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ['Microsoft', 'Apple', 'Oracle']</span><span class="token comment" spellcheck="true">// åªæ·»åŠ ,ä¸åˆ é™¤:</span>arr<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'Google'</span><span class="token punctuation">,</span> <span class="token string">'Facebook'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// è¿”å›[],å› ä¸ºæ²¡æœ‰åˆ é™¤ä»»ä½•å…ƒç´ </span>arr<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ['Microsoft', 'Apple', 'Google', 'Facebook', 'Oracle']</span><span class="token comment" spellcheck="true">//concat() å°†ä¸¤ä¸ªæ•°ç»„è¿æ¥èµ·æ¥ï¼Œè¿”å›ä¸€ä¸ªæ–°æ•°ç»„</span><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token string">'B'</span><span class="token punctuation">,</span> <span class="token string">'C'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>arr<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ['A', 'B', 'C', 1, 2, 3, 4]</span><span class="token comment" spellcheck="true">//join() æŠŠå½“å‰æ•°ç»„çš„æ¯ä¸ªå…ƒç´ éƒ½ç”¨æŒ‡å®šçš„å­—ç¬¦ä¸²è¿æ¥èµ·æ¥ï¼Œç„¶åè¿”å›è¿æ¥åçš„å­—ç¬¦ä¸²</span><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token string">'B'</span><span class="token punctuation">,</span> <span class="token string">'C'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>arr<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">'-'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 'A-B-C-1-2-3'</span></code></pre></li></ul><h2 id="å››ã€å¯¹è±¡"><a href="#å››ã€å¯¹è±¡" class="headerlink" title="å››ã€å¯¹è±¡"></a>å››ã€å¯¹è±¡</h2><ul><li><p>ç±»ä¼¼äºPythonçš„å­—å…¸    </p></li><li><p>è·å–å¯¹è±¡å±æ€§ï¼šå¯¹è±¡å˜é‡.å±æ€§åï¼Œperson.name</p></li><li><p>åˆ¤æ–­æ˜¯å¦åŒ…å«æŸä¸ªå±æ€§ï¼š</p><p>inæ“ä½œç¬¦ï¼šç»§æ‰¿çš„å±æ€§ä¹Ÿç®—</p><p>hasOwnProperty(): ä¸åŒ…å«ç»§æ‰¿çš„å±æ€§</p></li></ul><h2 id="äº”ã€strictæ¨¡å¼"><a href="#äº”ã€strictæ¨¡å¼" class="headerlink" title="äº”ã€strictæ¨¡å¼"></a>äº”ã€strictæ¨¡å¼</h2><blockquote><p>å¦‚æœä¸€ä¸ªå˜é‡æ²¡æœ‰é€šè¿‡varå£°æ˜å°±ä½¿ç”¨ï¼Œåˆ™è¯¥å˜é‡å°±è‡ªåŠ¨è¢«å£°æ˜ä¸ºå…¨å±€å˜é‡</p></blockquote><pre class=" language-javascript"><code class="language-javascript"><span class="token comment" spellcheck="true">//å¯ç”¨strict</span><span class="token string">'use strict'</span><span class="token punctuation">;</span></code></pre><h2 id="å…­ã€mapå’Œset"><a href="#å…­ã€mapå’Œset" class="headerlink" title="å…­ã€mapå’Œset"></a>å…­ã€mapå’Œset</h2><ul><li><p>map</p><blockquote><p>ä»£æ›¿å¯¹è±¡å­˜å‚¨é”®å€¼æ•°æ®ï¼Œå…·æœ‰æå¿«çš„æŸ¥è¯¢é€Ÿåº¦</p></blockquote><pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">var</span> m <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>m<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token string">'Adam'</span><span class="token punctuation">,</span> <span class="token number">67</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// è¦†ç›–æ‰ä¸Šé¢çš„Adamå€¼</span>m<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token string">'Adam'</span><span class="token punctuation">,</span> <span class="token number">88</span><span class="token punctuation">)</span><span class="token punctuation">;</span>m<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'Adam'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 88</span></code></pre></li><li><p>set</p><blockquote><p>åªå­˜å€¼ï¼Œä¸”å€¼ä¸ä¼šé‡å¤</p></blockquote><pre class=" language-javascript"><code class="language-javascript"><span class="token comment" spellcheck="true">// é‡å¤å…ƒç´ è¢«è¿‡æ»¤</span><span class="token keyword">var</span> s <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">'3'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>s<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Set &amp;#123;1, 2, 3, "3"&amp;#125;</span><span class="token comment" spellcheck="true">// å¯ä»¥é‡å¤æ·»åŠ ï¼Œä½†ä¸ä¼šæœ‰æ•ˆæœ</span>s<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>s<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Set &amp;#123;1, 2, 3, 4&amp;#125;</span>s<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>s<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Set &amp;#123;1, 2, 3, 4&amp;#125;</span></code></pre></li></ul><h2 id="ä¸ƒã€å¸¸ç”¨æ–¹æ³•"><a href="#ä¸ƒã€å¸¸ç”¨æ–¹æ³•" class="headerlink" title="ä¸ƒã€å¸¸ç”¨æ–¹æ³•"></a>ä¸ƒã€å¸¸ç”¨æ–¹æ³•</h2><ul><li><p>forEach()</p><blockquote><p>ES5.1æ ‡å‡†å¼•å…¥,ç”¨äºéå†å¯è¿­ä»£å¯¹è±¡</p></blockquote><pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token string">'V'</span><span class="token punctuation">,</span> <span class="token string">'C'</span><span class="token punctuation">]</span>a<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span>index<span class="token punctuation">)</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">// map,å‚æ•°åˆ†åˆ«ä¸ºå€¼ï¼Œé”®å’Œmap</span><span class="token keyword">var</span> m <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'x'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'y'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">'z'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>m<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>value<span class="token punctuation">,</span> key<span class="token punctuation">,</span> map<span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// set,Setä¸Arrayç±»ä¼¼ï¼Œä½†Setæ²¡æœ‰ç´¢å¼•ï¼Œå› æ­¤å›è°ƒå‡½æ•°çš„å‰ä¸¤ä¸ªå‚æ•°éƒ½æ˜¯å…ƒç´ æœ¬èº«</span><span class="token keyword">var</span> s <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token string">'B'</span><span class="token punctuation">,</span> <span class="token string">'C'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>s<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>element<span class="token punctuation">,</span> sameElement<span class="token punctuation">,</span> <span class="token keyword">set</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li></ul><h2 id="å…«ã€å‡½æ•°"><a href="#å…«ã€å‡½æ•°" class="headerlink" title="å…«ã€å‡½æ•°"></a>å…«ã€å‡½æ•°</h2><ul><li><p>åŒ¿åå‡½æ•°ï¼š<code>function (x) &#123; ... &#125;</code></p></li><li><p>å¯ä»¥ä¼ å…¥å¤šäºæˆ–å°‘äºå‡½æ•°å®šä¹‰çš„å‚æ•°çš„ä¸ªæ•°</p></li><li><p>å…³é”®å­—argumentsï¼šå°†ä¼ å…¥çš„å‚æ•°ä¿å­˜ä¸ºç±»ä¼¼äºArray</p></li><li><p>restå‚æ•°ï¼šrestå‚æ•°å†™åœ¨æœ€åï¼Œå‰é¢ç”¨<code>...</code>æ ‡è¯†ï¼Œç”¨äºå°†å¤šå‡ºçš„å‚æ•°ä¿å­˜åˆ°Arrayä¸­</p></li><li><p>letå…³é”®å­—ï¼šç”¨äºå£°æ˜å±€éƒ¨å˜é‡ï¼Œæ‰€å£°æ˜çš„å˜é‡ï¼Œåªåœ¨<code>let</code>å‘½ä»¤æ‰€åœ¨çš„ä»£ç å—å†…æœ‰æ•ˆ</p></li><li><p>const: <code>const</code>æ¥å®šä¹‰å¸¸é‡ï¼Œ<code>const</code>ä¸<code>let</code>éƒ½å…·æœ‰å—çº§ä½œç”¨åŸŸ</p></li><li><p>è§£æ„èµ‹å€¼ï¼š</p><pre class=" language-javascript"><code class="language-javascript"><span class="token comment" spellcheck="true">//ç›´æ¥å¯¹å¤šä¸ªå˜é‡åŒæ—¶èµ‹å€¼</span><span class="token keyword">var</span> <span class="token punctuation">[</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'hello'</span><span class="token punctuation">,</span> <span class="token string">'JavaScript'</span><span class="token punctuation">,</span> <span class="token string">'ES6'</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">let</span> <span class="token punctuation">[</span>x<span class="token punctuation">,</span> <span class="token punctuation">[</span>y<span class="token punctuation">,</span> z<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'hello'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'JavaScript'</span><span class="token punctuation">,</span> <span class="token string">'ES6'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">let</span> <span class="token punctuation">[</span><span class="token punctuation">,</span> <span class="token punctuation">,</span> z<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'hello'</span><span class="token punctuation">,</span> <span class="token string">'JavaScript'</span><span class="token punctuation">,</span> <span class="token string">'ES6'</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// å¿½ç•¥å‰ä¸¤ä¸ªå…ƒç´ ï¼Œåªå¯¹zèµ‹å€¼ç¬¬ä¸‰ä¸ªå…ƒç´ </span></code></pre></li><li><p>é—­åŒ…ï¼šè¿”å›å€¼ä¸ºå‡½æ•°çš„å‡½æ•°</p></li><li><p>ç®­å¤´å‡½æ•°ï¼šç›¸å½“äºåŒ¿åå‡½æ•°</p><pre class=" language-javascript"><code class="language-javascript"><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> x <span class="token operator">*</span> x <span class="token operator">+</span> y <span class="token operator">*</span> yx <span class="token operator">=</span><span class="token operator">></span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> x <span class="token operator">*</span> x<span class="token punctuation">;</span>    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>    <span class="token keyword">else</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token operator">-</span> x <span class="token operator">*</span> x<span class="token punctuation">;</span>    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span></code></pre></li></ul><h2 id="ä¹ã€éœ€è¦æ³¨æ„çš„ç‚¹"><a href="#ä¹ã€éœ€è¦æ³¨æ„çš„ç‚¹" class="headerlink" title="ä¹ã€éœ€è¦æ³¨æ„çš„ç‚¹"></a>ä¹ã€éœ€è¦æ³¨æ„çš„ç‚¹</h2><ul><li>JavaScriptå¼•æ“åœ¨è¡Œæœ«è‡ªåŠ¨æ·»åŠ åˆ†å·</li><li>å…¨å±€å˜é‡ä¼šç»‘å®šåˆ°<code>window</code>ä¸Šï¼Œä¸åŒçš„JavaScriptæ–‡ä»¶å¦‚æœä½¿ç”¨äº†ç›¸åŒçš„å…¨å±€å˜é‡ï¼Œæˆ–è€…å®šä¹‰äº†ç›¸åŒåå­—çš„é¡¶å±‚å‡½æ•°ï¼Œéƒ½ä¼šé€ æˆå‘½åå†²çªï¼Œå¹¶ä¸”å¾ˆéš¾è¢«å‘ç°</li><li>è¿”å›é—­åŒ…æ—¶ï¼Œè¿”å›å‡½æ•°ä¸è¦å¼•ç”¨ä»»ä½•å¾ªç¯å˜é‡ï¼Œæˆ–è€…åç»­ä¼šå‘ç”Ÿå˜åŒ–çš„å˜é‡</li></ul>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Flask Vueè·¨åŸŸé…ç½®</title>
      <link href="2020/10/27/%E9%85%8D%E7%BD%AEFlask+Vue%E8%B7%A8%E5%9F%9F%E8%AF%B7%E6%B1%82/"/>
      <url>2020/10/27/%E9%85%8D%E7%BD%AEFlask+Vue%E8%B7%A8%E5%9F%9F%E8%AF%B7%E6%B1%82/</url>
      
        <content type="html"><![CDATA[<ul><li><h4 id="é…ç½®Flask"><a href="#é…ç½®Flask" class="headerlink" title="é…ç½®Flask"></a>é…ç½®Flask</h4><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># å®‰è£…flask_cors</span>pip install flask_cors<span class="token keyword">from</span> flask_cors <span class="token keyword">import</span> <span class="token operator">*</span><span class="token comment" spellcheck="true">#å…¨å±€é…ç½®</span>CORS<span class="token punctuation">(</span>app<span class="token punctuation">,</span> supports_credentials<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span></code></pre><a id="more"></a></li><li><h4 id="é…ç½®Vue"><a href="#é…ç½®Vue" class="headerlink" title="é…ç½®Vue"></a>é…ç½®Vue</h4><p>1.æ‰¾åˆ°configç›®å½•ä¸‹çš„index.jsï¼Œåœ¨proxyTableä¸‹æ·»åŠ é…ç½®ä¿¡æ¯:</p><pre class=" language-js"><code class="language-js"><span class="token string">'/api'</span><span class="token punctuation">:</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> target<span class="token punctuation">:</span> <span class="token string">'http://localhost:5000/'</span><span class="token punctuation">,</span>    <span class="token comment" spellcheck="true">//åç«¯æ¥å£åœ°å€</span> changeOrigin<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>                <span class="token comment" spellcheck="true">//æ˜¯å¦å…è®¸è·¨è¶Š</span> pathRewrite<span class="token punctuation">:</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>  <span class="token string">'^/api'</span><span class="token punctuation">:</span> <span class="token string">'http://localhost:5000/'</span> <span class="token comment" spellcheck="true">//è·¯å¾„é‡å†™</span> <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span></code></pre></li></ul><p><img src="https://upload-images.jianshu.io/upload_images/9403344-10e8372429b51b34.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/300" alt="proxyTableé…ç½®.png"></p><p>  2.åœ¨axiosä¸­ï¼Œè¯·æ±‚åœ°å€æ”¹ä¸ºï¼šâ€™api/xxx/xxxâ€™<br><img src="https://upload-images.jianshu.io/upload_images/9403344-aaa1a996feda6586.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="url.png"></p>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Web </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>asyncio.Semaphoreæ§åˆ¶åç¨‹å¹¶å‘é‡</title>
      <link href="2020/10/14/Python%E4%BD%BF%E7%94%A8asyncio.Semaphore%E6%8E%A7%E5%88%B6%E5%8D%8F%E7%A8%8B%E5%B9%B6%E5%8F%91%E9%87%8F/"/>
      <url>2020/10/14/Python%E4%BD%BF%E7%94%A8asyncio.Semaphore%E6%8E%A7%E5%88%B6%E5%8D%8F%E7%A8%8B%E5%B9%B6%E5%8F%91%E9%87%8F/</url>
      
        <content type="html"><![CDATA[<pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># -*- coding: utf-8 -*-</span><span class="token comment" spellcheck="true"># @Time    : 2020/10/12 12:03</span><span class="token comment" spellcheck="true"># @Author  : Wanghairui</span><span class="token keyword">import</span> asyncio<span class="token keyword">import</span> time<span class="token keyword">async</span> <span class="token keyword">def</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment" spellcheck="true"># æ§åˆ¶å¹¶å‘æ•° 20</span>    sem <span class="token operator">=</span> asyncio<span class="token punctuation">.</span>Semaphore<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>    tasks <span class="token operator">=</span> <span class="token punctuation">[</span>asyncio<span class="token punctuation">.</span>create_task<span class="token punctuation">(</span>print_something<span class="token punctuation">(</span><span class="token string">"c"</span><span class="token operator">+</span>str<span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">,</span> sem<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">]</span>    start <span class="token operator">=</span> time<span class="token punctuation">.</span>perf_counter<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">await</span> asyncio<span class="token punctuation">.</span>gather<span class="token punctuation">(</span><span class="token operator">*</span>tasks<span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"è¿è¡Œç»“æŸ"</span><span class="token punctuation">)</span>    res <span class="token operator">=</span> <span class="token punctuation">[</span>t<span class="token punctuation">.</span>result<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">for</span> t <span class="token keyword">in</span> tasks<span class="token punctuation">]</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>    elapsed <span class="token operator">=</span> <span class="token punctuation">(</span>time<span class="token punctuation">.</span>perf_counter<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> start<span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>elapsed<span class="token punctuation">)</span><span class="token keyword">async</span> <span class="token keyword">def</span> <span class="token function">print_something</span><span class="token punctuation">(</span>thing<span class="token punctuation">,</span> sem<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">async</span> <span class="token keyword">with</span> sem<span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>thing<span class="token punctuation">)</span>        <span class="token keyword">await</span> asyncio<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> <span class="token string">"A"</span><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>    asyncio<span class="token punctuation">.</span>run<span class="token punctuation">(</span>main<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åç¨‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexoæŒ‡ä»¤</title>
      <link href="2019/07/27/hexo%E6%8C%87%E4%BB%A4/"/>
      <url>2019/07/27/hexo%E6%8C%87%E4%BB%A4/</url>
      
        <content type="html"><![CDATA[<h2 id="hexoæŒ‡ä»¤"><a href="#hexoæŒ‡ä»¤" class="headerlink" title="hexoæŒ‡ä»¤"></a>hexoæŒ‡ä»¤</h2><h5 id="é¢„è§ˆ"><a href="#é¢„è§ˆ" class="headerlink" title="é¢„è§ˆ"></a>é¢„è§ˆ</h5><pre><code>hexo ghexo shttp://localhost:4000/</code></pre><h5 id="å‘å¸ƒ"><a href="#å‘å¸ƒ" class="headerlink" title="å‘å¸ƒ"></a>å‘å¸ƒ</h5><pre><code>hexo cleanhexo ghexo d</code></pre>]]></content>
      
      
      <categories>
          
          <category> æŒ‡ä»¤ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æŒ‡ä»¤ </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
